<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Be Newsletters - Volume 2: 1997</title><link rel="stylesheet" href="be_newsletter.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_newsletter_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="start" href="index.html" title="Be Newsletters" /><link rel="up" href="volume2.html" title="Volume 2: 1997" /><link rel="prev" href="Issue2-49.html" title="Issue 2-49, December 10, 1997" /><link rel="next" href="Issue2-51.html" title="Issue 2-51, December 24, 1997" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="Issue2-49.html" title="Issue 2-49, December 10, 1997"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="volume2.html" title="Volume 2: 1997"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="Issue2-51.html" title="Issue 2-51, December 24, 1997"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">Be Newsletters - Volume 2: 1997</div></div><div id="headerB">Prev: <a href="Issue2-49.html">Issue 2-49, December 10, 1997</a>  Up: <a href="volume2.html">Volume 2: 1997</a>  Next: <a href="Issue2-51.html">Issue 2-51, December 24, 1997</a></div><hr /></div><div class="article"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="Issue2-50"></a>Issue 2-50, December 17, 1997</h2></div></div></div><div class="sect1"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="Engineering2-50"></a>Be Engineering Insights: Three Unrelated Tips</h2></div><div xmlns:d="http://docbook.org/ns/docbook"><span xmlns="http://www.w3.org/1999/xhtml" class="author">By <span class="firstname">Hiroshi</span> <span class="surname">Lockheimer</span></span></div></div></div><p>
"The number of the counting shall be three, and three shall be the number
of the counting..."
</p><div class="sect2"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="id609352"></a>1—Don't Forget The "A" In "RGB"</h3></div></div></div><p>
In the BeOS Preview Release 2, the default alpha arguments to
<code class="methodname">SetHighColor()</code>, <code class="methodname">SetLowColor()</code>,
and <code class="methodname">SetViewColor()</code> in
<code class="filename">View.h</code> were
changed from 0 to 255. We also changed the value of the constant
<code class="constant">B_TRANSPARENT_32_BIT</code>. These changes were made in long-range preparation
(i.e., not for Release 3, and not yet included in plans for any
subsequent release) for alpha channel support in the App Server and the
Kits. This means a number of things for you:
</p><ul class="itemizedlist"><li><p>
You don't have to worry about <code class="constant">B_TRANSPARENT_32_BIT</code>. It's a symbol, so
the change in value should be transparent (pun intended) from a source
compatibility standpoint. We've added some filters in the
aforementioned calls that look for the old value, just to be extra safe.
</p></li><li><p>
You should worry, however, if you have data (or, less likely, code)
that hard-codes the old <code class="constant">B_TRANSPARENT_32_BIT</code> value and you stuff that
data directly into a <code class="classname">BBitmap</code>. The solution here is...use the new value!
(Duh.)
</p></li><li><p>
You should inspect your code for uninitialized alpha values. You
don't have to do this immediately since we currently ignore the value
of the alpha component, but it's a good habit to get into.
</p></li></ul><p>
Here's some suspicious code:
</p><pre class="programlisting c">
<span class="comment">// alpha component omitted!</span>
<span class="type"><span class="type">rgb_color</span></span> <code class="varname">foo</code> = {255, 255, 255};
</pre><p>
If you don't want <code class="varname">foo</code> to be transparent (an alpha of 0), you should do
the following:
</p><pre class="programlisting c">
<span class="comment">// explicitly set it to 255</span>
<span class="type">rgb_color</span> <code class="varname">foo</code> = {255, 255, 255, 255};
</pre><p>
Here are some other common cases that I found while rummaging through the
Interface Kit:
</p><pre class="programlisting c">
{
  <span class="type">rgb_color</span> <code class="varname">foo</code>;

  if (<code class="varname">blah</code>)
    <span class="comment">// this is good</span>
    <code class="varname">foo</code> = <code class="methodname">ViewColor</code>();
  else
    <span class="comment">// bad, alpha isn't being set...</span>
    <code class="varname">foo</code>.<code class="varname">red</code> = <code class="varname">foo</code>.<code class="varname">green</code> = <code class="varname">foo</code>.<code class="varname">blue</code> = 123;
}

{
  <span class="comment">// explicitly setting alpha to 0!</span>
  <code class="methodname">SetHighColor</code>(80, 80, 80, 0);
  ...
}
</pre></div><div class="sect2"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="id609558"></a>2—Beware Of <code class="constant">B_INTERRUPTED</code>.</h3></div></div></div><p>
If you're writing an app that uses signals, or a library that uses
signals, or a library that may be used by an app that uses signals, watch
out for <code class="constant">B_INTERRUPTED</code>. Functions such as <code class="function">acquire_sem()</code> will return an
error code of <code class="constant">B_INTERRUPTED</code> when they are "unblocked" by a signal.
</p><p>
The following code is unsafe:
</p><pre class="programlisting c">
<span class="comment">// theSem is a valid sem_id</span>
<code class="function">acquire_sem</code>(<code class="varname">theSem</code>);
</pre><p>
Do this (or something like it) instead:
</p><pre class="programlisting c">
<span class="comment">// loop until we acquire the semaphore</span>
while (<code class="function">acquire_sem</code>(<code class="varname">theSem</code>) == <code class="constant">B_INTERRUPTED</code>);
</pre><p>
Here's a list of functions that you want to protect from <code class="constant">B_INTERRUPTED</code>:
</p><ul class="itemizedlist"><li><p>
<code class="function">acquire_sem()</code>
</p></li><li><p>
<code class="function">acquire_sem_etc()</code>
</p></li><li><p>
<code class="function">port_buffer_size()</code>
</p></li><li><p>
<code class="function">read()</code>
</p></li><li><p>
<code class="function">write()</code>
</p></li><li><p>
<code class="function">read_port()</code>
</p></li><li><p>
<code class="function">read_port_etc()</code>
</p></li><li><p>
<code class="function">write_port()</code>
</p></li><li><p>
<code class="function">write_port_etc()</code>
</p></li><li><p>
<code class="function">wait_for_thread()</code>
</p></li></ul></div><div class="sect2"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="id609737"></a>3—Are Your Messages Getting Delivered?</h3></div></div></div><p>
Speaking of error codes, did you know that <code class="methodname">BLooper::PostMessage()</code> returns
an error? Or, to put it another way, did you know that <code class="methodname">PostMessage()</code> can
fail, even if all <code class="classname">BLooper</code>s and <code class="classname">BHandler</code>s involved are valid?
</p><p>
A <code class="classname">BLooper</code>'s port capacity is set to 100 (<code class="constant">B_LOOPER_PORT_DEFAULT_CAPACITY</code>)
by default. This is also true of <code class="classname">BWindow</code>
(<code class="classname">BWindow</code> inherits from <code class="classname">BLooper</code>).
If a Looper's message queue is inundated with <code class="classname">BMessage</code>s, its port fills
up. Since a <code class="classname">BLooper</code> with a full port can no longer accept messages, that's
one way a call to <code class="methodname">PostMessage()</code> can fail.
</p><p>
There are a number of ways to deal with this situation:
</p><ul class="itemizedlist"><li><p>
Look at <code class="methodname">PostMessage()</code>'s return value. Handle errors gracefully.
</p></li><li><p>
Don't do any super time-consuming things in <code class="methodname">MessageReceived()</code>. Spawn
a thread if you have to. This reduces the likelihood of a <code class="classname">BLooper</code>'s
port filling up.
</p></li><li><p>
Use a <code class="classname">BMessenger</code>.
</p></li></ul><p>
<code class="classname">BMessenger</code>s are cool. The following code snippets are functionally
equivalent:
</p><pre class="programlisting c">
<span class="type">status_t</span> <code class="varname">err1</code> = <code class="varname">myLooper</code>-&gt;<code class="methodname">PostMessage</code>(<code class="constant">kMyCommandConstant</code>);

<code class="classname">BMessenger</code> <code class="varname">messenger</code>(<code class="varname">myLooper</code>);
<span class="type">status_t</span> <code class="varname">err2</code> = <code class="varname">messenger</code>.<code class="methodname">SendMessage</code>(<code class="constant">kMyCommandConstant</code>);
</pre><p>
The difference is that the <code class="classname">BMessenger</code> version guarantees that your
message will be delivered, regardless of the state of the recipient's
port. It does this by blocking on the full port until there is room. Keep
in mind, this blocking can lead to other issues such as deadlock, but
that's been covered in other articles, for example:
<a class="link" href="">Issue 1-#25</a>
</p></div></div><hr class="pagebreak" /><div class="sect1"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="Engineering2-50-2"></a>Be Engineering Insights: MIDI Synthesis From Scratch</h2></div><div xmlns:d="http://docbook.org/ns/docbook"><span xmlns="http://www.w3.org/1999/xhtml" class="author">By <span class="firstname">Marc</span> <span class="surname">Ferguson</span></span></div></div></div><p>
Past articles in the Be Newsletter have given example uses of the MIDI
and audio stream classes. This time we'll give you an example for
connecting a <code class="classname">BMidiPort</code> to a <code class="classname">BDACStream</code> to build a real-time MIDI
synthesizer that generates sounds from scratch, instead of using the
<code class="classname">BSynth</code> class as a sample player. To try this example you'll need a MIDI
keyboard and a MIDI interface connected to your computer's printer port
(if you have a BeBox, use the midi2 input).
</p><p>
There are three parts to this example:
</p><ul class="itemizedlist"><li><p>
a <code class="classname">Voice</code> class to generate the tones
</p></li><li><p>
an <code class="classname">Instrument</code> class to receive the MIDI input
</p></li><li><p>
a <code class="function">dac_writer()</code> "stream function"
that writes to the DAC stream buffers
</p></li></ul><p>
The <code class="classname">Voice</code> class implements the Karplus-Strong synthesis algorithm. It
consists of a delay line with 100% feedback through a low-pass filter,
which averages adjacent samples. Output samples look like this:
</p><pre class="screen">
X[i] = (X[i-N] + X[i-N-1]) / 2
</pre><p>
where N is the length of the delay line.
</p><p>
You can use any percussive sound to excite the delay line—the <code class="classname">Voice</code>
class just initializes the delay line to random noise.
</p><p>
If you listen carefully you may notice that each note sounds subtlely
different. The wavelength of the tone produced is about (N+0.5) and the
frequency is sampling rate/(N+0.5). Because N must be an integer, there
is some rounding error in the pitch of the output. The result is that
lower notes are in tune, while the higher notes are increasingly out of
tune. This is the best we can do without a fancier algorithm.
</p><p>
In this example, the <code class="methodname">Voice::NoteOn()</code> method initializes the delay line
and the <code class="methodname">Voice::Mix()</code> method runs the delay line and mixes the output into
the destination buffer:
</p><pre class="programlisting cpp">
struct <span class="type">Voice</span> {
  <code class="methodname">Voice</code>(<span class="type">int32</span> <code class="parameter">i</code>) : <code class="varname">number</code>(<code class="parameter">i</code>), <code class="varname">velocity</code>(0) {
    <code class="varname">delayLength</code> = 44100 / 442.0 / pow(2.0, (i-9)/12.0 - 5);
    <code class="varname">delayLine</code> = new <span class="type">float</span>[<code class="varname">delayLength</code>];
  };
  <code class="methodname">~Voice</code>() {
    delete [] delayLine;
  };

  <span class="type">void</span> <code class="methodname">NoteOn</code>(<span class="type">uchar</span> <code class="parameter">vel</code>);
  <span class="type">void</span> <code class="methodname">Mix</code>(<span class="type">int32</span> <code class="parameter">n_samples</code>, <span class="type">float*</span> <code class="parameter">dst</code>);

  <span class="type">int32</span> <code class="varname">number</code>;
  <span class="type">uchar</span> <code class="varname">velocity</code>;
  <span class="type">int32</span> <code class="varname">delayLength</code>;
  <span class="type">int32</span> <code class="varname">delayPointer</code>;
  <span class="type">float*</span> <code class="varname">delayLine</code>;
  <span class="type">float</span> <code class="varname">previous</code>;
};

<span class="type">void</span> <code class="classname">Voice</code>::<code class="methodname">NoteOn</code>(<span class="type">uchar</span> <code class="parameter">vel</code>)
{
  if (<code class="parameter">vel</code> &gt; 0) {
    /* Initialize delay line with noise */
    <code class="varname">delayPointer</code> = 0;
    for (<span class="type">int</span> <code class="varname">i</code> = 0; <code class="varname">i</code> &lt; <code class="varname">delayLength</code>; <code class="varname">i</code>++)
      <code class="varname">delayLine</code>[<code class="varname">i</code>] = 160 * <code class="parameter">vel</code> * (2.0*<code class="function">rand</code>()/<code class="constant">RAND_MAX</code> - 1);
    <code class="varname">previous</code> = 0;
  }
  <code class="varname">velocity</code> = <code class="parameter">vel</code>;
}

<span class="type">void</span> <code class="classname">Voice</code>::<code class="methodname">Mix</code>(<span class="type">int32</span> <code class="parameter">n_samples</code>, <span class="type">float*</span> <code class="parameter">dst</code>)
{
  if (<code class="varname">velocity</code> &gt; 0)
    /* Mix samples from delay line into dst */
    for (<span class="type">int</span> <code class="varname">i</code> = 0; <code class="varname">i</code> &lt; <code class="parameter">n_samples</code>; <code class="varname">i</code>++) {
      <span class="type">float</span> <code class="varname">current</code> = <code class="varname">delayLine</code>[<code class="varname">delayPointer</code>];
      <code class="parameter">dst</code>[<code class="varname">i</code>] += <code class="varname">current</code>;
      <code class="varname">delayLine</code>[<code class="varname">delayPointer</code>] = (<code class="varname">current</code> + <code class="varname">previous</code>) / 2;
      if (++<code class="varname">delayPointer</code> &gt;= <code class="varname">delayLength</code>)
        <code class="varname">delayPointer</code> = 0;
      <code class="varname">previous</code> = <code class="varname">current</code>;
    }
}
</pre><p>
The next component of the example, the <code class="classname">Instrument</code> class, holds an array
of Voices. It connects itself to a <code class="classname">BMidiPort</code>
and passes any <code class="methodname">NoteOn</code> calls
it receives to the appropriate <code class="classname">Voice</code>. It also enters the DAC stream using
<code class="function">dac_writer()</code> as a stream function:
</p><pre class="programlisting cpp">
#define <code class="constant">LOWEST_NOTE</code> 28

struct <code class="classname">Instrument</code> : <code class="classname">BMidi</code> {
  <code class="methodname">Instrument</code>();
  <code class="methodname">~Instrument</code>();

  <span class="type">void</span> <code class="methodname">NoteOn</code>(<span class="type">uchar</span>, <span class="type">uchar</span> <code class="parameter">note</code>, <span class="type">uchar</span> <code class="parameter">velocity</code>, <span class="type">uint32</span>) {
    <code class="function">acquire_sem</code>(<code class="varname">lock</code>);
    if (<code class="parameter">note</code> &gt;= <code class="constant">LOWEST_NOTE</code>)
      <code class="varname">voices</code>[<code class="parameter">note</code>]-&gt;<code class="methodname">NoteOn</code>(<code class="varname">velocity</code>);
    <code class="function">release_sem</code>(<code class="varname">lock</code>);
  };
  <span class="type">void</span> <code class="methodname">NoteOff</code>(<span class="type">uchar</span> <code class="parameter">channel</code>, <span class="type">uchar</span> <code class="parameter">note</code>, <span class="type">uchar</span>, <span class="type">uint32</span>) {
    <code class="methodname">NoteOn</code>(<code class="varname">channel</code>, <code class="varname">note</code>, 0, 0);
  };

  <span class="type"><code class="classname">Voice</code>*</span> <code class="varname">voices</code>[128];
  <span class="type">sem_id</span> <code class="varname">lock</code>;
  <code class="classname">BMidiPort</code> <code class="varname">port</code>;
  <code class="classname">BDACStream</code> <code class="varname">dacStream</code>;
  <code class="classname">BSubscriber</code> <code class="varname">subscriber</code>;
};


<code class="classname">Instrument</code>::<code class="methodname">Instrument</code>() : <code class="varname">subscriber</code>("Instrument")
{
  <code class="varname">lock</code> = <code class="function">create_sem</code> (1, "Instrument locker");
  for (<span class="type">int</span> <code class="varname">i</code> = <code class="constant">LOWEST_NOTE</code>; <code class="varname">i</code> &lt; 128; <code class="varname">i</code>++)
    <code class="varname">voices</code>[<code class="varname">i</code>] = new <code class="classname">Voice</code>(<code class="varname">i</code>);

  <code class="varname">dacStream</code>.<code class="methodname">SetStreamBuffers</code>(1024, 2);
  <code class="varname">dacStream</code>.<code class="methodname">SetSamplingRate</code>(44100);
  <code class="varname">subscriber</code>.<code class="methodname">Subscribe</code>(&amp;<code class="varname">dacStream</code>);
  <span class="type">bool</span> <code class="function">dac_writer</code>(<span class="type">void*</span>, <span class="type">char*</span>, <span class="type">size_t</span>, <span class="type">void*</span>);
  <code class="varname">subscriber</code>.<code class="methodname">EnterStream</code>(0, <code class="constant">true</code>, <code class="varname">this</code>, <code class="varname">dac_writer</code>, 0, <code class="constant">true</code>);

  if (<code class="varname">port</code>.<code class="methodname">Open</code>("midi2") != <code class="constant">B_NO_ERROR</code>) {
    <code class="function">printf</code>("Failed to open midi port.\n");
    return;
  }
  <code class="varname">port</code>.<code class="methodname">Connect</code>(<code class="varname">this</code>);
  if (<code class="varname">port</code>.<code class="methodname">Start</code>() != <code class="constant">B_NO_ERROR</code>) {
    <code class="function">printf</code>("BMidiPort::Start() failed.\n");
    return;
  }
}

<code class="classname">Instrument</code>::<code class="methodname">~Instrument</code>()
{
  <code class="varname">subscriber</code>.<code class="methodname">ExitStream</code>(<code class="constant">true</code>);
  for (<span class="type">int</span> <code class="varname">i</code> = <code class="constant">LOWEST_NOTE</code>; <code class="varname">i</code> &lt; 128; <code class="varname">i</code>++)
    delete <code class="varname">voices</code>[<code class="varname">i</code>];
  <code class="function">delete_sem</code>(<code class="varname">lock</code>);
}
</pre><p>
Finally, the <code class="function">dac_writer()</code> stream function allocates a mixing buffer of
floats, calls the <code class="methodname">Mix()</code> method for each voice, and mixes the result into
the DAC stream:
</p><pre class="programlisting cpp">
<span class="type">bool</span> <code class="function">dac_writer</code>(<span class="type">void*</span> <code class="parameter">arg</code>, <span class="type">char*</span> <code class="parameter">buf</code>, <span class="type">size_t</span> <code class="parameter">count</code>, <span class="type">void*</span>)
{
  <span class="type">short*</span> dst = (<span class="type">short*</span>) <code class="parameter">buf</code>;
  <span class="type">int</span> <code class="varname">n_samples</code> = <code class="parameter">count</code>/4;
  <span class="type"><code class="classname">Instrument</code>*</span> <code class="varname">instrument</code> = (<span class="type"><code class="classname">Instrument</code>*</span>) <code class="parameter">arg</code>;

  static <span class="type">int32</span> <code class="varname">mix_samples</code> = 0;
  static <span class="type">float*</span> <code class="varname">mix</code> = 0;
  if (<code class="varname">mix_samples</code> &lt; <code class="varname">n_samples</code>) {
    if (<code class="varname">mix</code>)
      delete [] <code class="varname">mix</code>;
    <code class="varname">mix</code> = new <span class="type">float</span>[<code class="varname">n_samples</code>];
    <code class="varname">mix_samples</code> = <code class="varname">n_samples</code>;
  }
  for (<span class="type">int</span> <code class="varname">i</code> = 0; <code class="varname">i</code> &lt; <code class="varname">n_samples</code>; i++)
    <code class="varname">mix</code>[<code class="varname">i</code>] = 0;

  <code class="function">acquire_sem</code>(<code class="varname">instrument</code>-&gt;<code class="varname">lock</code>);
  for (<span class="type">int</span> <code class="varname">i</code> = <code class="constant">LOWEST_NOTE</code>; <code class="varname">i</code> &lt; 128; <code class="varname">i</code>++)
    <code class="varname">instrument</code>-&gt;<code class="varname">voices</code>[<code class="varname">i</code>]-&gt;<code class="methodname">Mix</code>(<code class="varname">n_samples</code>, <code class="varname">mix</code>);
  <code class="function">release_sem</code>(<code class="varname">instrument</code>-&gt;<code class="varname">lock</code>);

  for (<span class="type">int</span> <code class="varname">i</code> = 0; <code class="varname">i</code> &lt; <code class="varname">n_samples</code>; <code class="varname">i</code>++) {
    <span class="type">int32</span> <code class="varname">sample</code> = <code class="varname">mix</code>[<code class="varname">i</code>];
    <span class="type">int32</span> <code class="varname">left</code> = <code class="varname">dst</code>[2*<code class="varname">i</code>] + <code class="varname">sample</code>;
    <span class="type">int32</span> <code class="varname">right</code> = <code class="varname">dst</code>[2*<code class="varname">i</code>+1] + <code class="varname">sample</code>;
    if (<code class="varname">left</code> &gt; 32767) <code class="varname">left</code> = 32767;
    if (<code class="varname">right</code> &gt; 32767) <code class="varname">right</code> = 32767;
    if (<code class="varname">left</code> &lt; -32768) <code class="varname">left</code> = -32768;
    if (<code class="varname">right</code> &lt; -32768) <code class="varname">right</code> = -32768;
    <code class="varname">dst</code>[2*<code class="varname">i</code>] = <code class="varname">left</code>;
    <code class="varname">dst</code>[2*<code class="varname">i</code>+1] = <code class="varname">right</code>;
  }
  return <code class="constant">true</code>;
}
</pre><p>
Now, if you create an <code class="classname">Instrument</code> object, you should be able to play a
MIDI keyboard connected through your computer's printer port.
</p><p>
One other thing you need to be concerned about if you're writing a
real-time synthesizer is the latency between the time a key is struck on
the keyboard and when you hear the note. This latency includes the time
it takes the keyboard to notice that a key has been pressed, the time to
transmit three bytes via MIDI, the time to calculate the waveform, and
the amount of output buffering for the DAC. The amount of DAC buffering
is set by the call to <code class="methodname">SetStreamBuffers()</code> in
the <code class="classname">Instrument</code> constructor.
The smaller the DAC buffers, the more CPU time is spent handling DAC
interrupts.
</p><p>
In the example, two buffers of 1K bytes (or 256 samples) are used for a
total of about 12 milliseconds of buffering. These 1K byte buffers are
large enough to run well on a Dual-66 BeBox and small enough that the
latency is not unreasonable. If you have a faster machine, you can
experiment with smaller buffer sizes and shorter latencies.
</p></div><hr class="pagebreak" /><div class="sect1"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="DevWorkshop2-50"></a>Developers' Workshop: The Postman Always Beeps Twice (At Least When You
Have Mail)</h2></div><div xmlns:d="http://docbook.org/ns/docbook"><span xmlns="http://www.w3.org/1999/xhtml" class="author">By <span class="firstname">Eric</span> <span class="surname">Shepherd</span></span></div></div></div><p>
"Developers' Workshop" is a new weekly feature that provides answers to
our developers' questions. Each week, a Be technical support or
documentation professional will choose a question (or two) sent in by an
actual developer and provide an answer.
</p><p>
We've created a new section on our website. Please send us your
Newsletter topic suggestions by visiting the website at:
http:<span class="comment">//www.be.com/developers/suggestion_box.html.</span>
</p><p>
Handling e-mail in BeOS applications is extremely easy. The <code class="classname">BMailMessage</code>
class provides a quick and painless way to send mail messages. Reading
messages is a little harder, but not by a lot. This week we'll look at
how you can take charge of the Mail Kit so your applications can send
messages and query the system about received messages.
</p><p>
The <code class="classname">BMailMessage</code> class represents an outgoing e-mail. You can add a
message body, enclosures, and header fields to the message using the
functions in the <code class="classname">BMailMessage</code> class, which is described in lovely C++
header file form in
<code class="filename">E-mail.h</code>.
</p><div class="sect2"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="id611288"></a>Reach Out</h3></div></div></div><p>
Let's write a simple C function to create and send an e-mail, which we'll
cleverly call "sendmail".
</p><pre class="programlisting cpp">
<span class="type">status_t</span> <code class="function">sendmail</code>(<span class="type">char *</span><code class="parameter">to</code>,
                  <span class="type">char *</span><code class="parameter">subject</code>,
                  <span class="type">char *</span><code class="parameter">from</code>,
                  <span class="type">char *</span><code class="parameter">replyto</code>,
                  <span class="type">char *</span><code class="parameter">content</code>,
                  <span class="type">char *</span><code class="parameter">enclosure_path</code>) {
  <span class="type"><code class="classname">BMailMessage</code> *</span><code class="varname">message</code>;
  <span class="type">status_t</span> <code class="varname">err</code>;
</pre><p>
Our <code class="function">sendmail()</code> function lets us specify the To, Subject, From, and
Reply-to header fields, as well as the message content and one enclosure,
specified by pathname.
</p><pre class="programlisting cpp">
  <code class="varname">message</code> = new <code class="classname">BMailMessage</code>();
  if (!<code class="varname">message</code>) {
    <span class="comment">// Couldn't allocate memory for the message</span>
    return <code class="constant">B_ERROR</code>;
  }
</pre><p>
First, we create a new <code class="classname">BMailMessage</code> object. If we can't create it, we
just return <code class="constant">B_ERROR</code> immediately, since there's really no point in going
on.
</p><p>
The To and Subject header fields are mandatory for any e-mail message,
and the Mail Kit doesn't know how to create them for you automatically,
so you need to set them up:
</p><pre class="programlisting cpp">
  <code class="varname">err</code> = <code class="varname">message</code>-&gt;<code class="methodname">AddHeaderField</code>(<code class="constant">B_MAIL_TO</code>, <code class="parameter">to</code>);
  <code class="varname">err</code> |= <code class="varname">message</code>-&gt;<code class="methodname">AddHeaderField</code>(<code class="constant">B_MAIL_SUBJECT</code>, <code class="parameter">subject</code>);
</pre><p>
Notice that we're ORing the result codes of the <code class="methodname">AddHeaderField()</code> calls
together. In this example program, we don't care *what* error occurred,
but only whether or not an error occurred at all. By ORing all the
results together, we obtain a mega-result that's <code class="constant">B_OK</code> (which happens to
be zero) if and only if no errors occurred at all.
</p><p>
Of course, you could be more programmatically correct and handle each
error individually with alerts, but this saves some space for the
purposes of this article without disposing of error-handling entirely.
</p><p>
The From and Reply-to fields can be automatically filled in by the Mail
Kit if you don't specify them. So if the caller specifies <code class="constant">NULL</code> for these
two fields, we don't bother to set them up.
</p><pre class="programlisting cpp">
  if (<code class="parameter">from</code>) {
    <code class="varname">err</code> |= <code class="varname">message</code>-&gt;<code class="methodname">AddHeaderField</code>(<code class="constant">B_MAIL_FROM</code>, <code class="parameter">from</code>);
  }
  if (<code class="parameter">replyto</code>) {
    <code class="varname">err</code> |= <code class="varname">message</code>-&gt;<code class="methodname">AddHeaderField</code>(<code class="constant">B_MAIL_REPLY</code>, <code class="parameter">replyto</code>);
  }
</pre><p>
Then we add the message body by calling AddContent():
</p><pre class="programlisting cpp">
  <code class="varname">err</code> |= <code class="varname">message</code>-&gt;<code class="methodname">AddContent</code>(<code class="parameter">content</code>, strlen(<code class="parameter">content</code>));
</pre><p>
And, if the <code class="parameter">enclosure_path</code> parameter is
non-<code class="constant">NULL</code>, we add the enclosure to
the message:
</p><pre class="programlisting cpp">
  if (<code class="parameter">enclosure_path</code>) {
    <code class="varname">err</code> |= <code class="varname">message</code>-&gt;<code class="methodname">AddEnclosure</code>(<code class="parameter">enclosure_path</code>);
  }
</pre><p>
Finally, if no errors have occurred, we send the message by calling
<code class="methodname">Send()</code>. The first parameter to
<code class="methodname">Send()</code> is a boolean that specifies whether
the message should be sent immediately (<code class="constant">true</code>) or queued to be sent the
next time the mail daemon is scheduled to run (<code class="constant">false</code>). In this case, we
want the message to be sent immediately, so we specify <code class="constant">true</code>.
</p><pre class="programlisting cpp">
  if (<code class="varname">err</code> == <code class="constant">B_OK</code>) {
    <code class="varname">err</code> = <code class="varname">message</code>-&gt;<code class="methodname">Send</code>(<code class="constant">true</code>);  <span class="comment">// Send now</span>
  }
</pre><p>
Now it's time to clean up. We delete the message object and return
<code class="constant">B_ERROR</code> if an error occurred or
<code class="constant">B_OK</code> if everything went well:
</p><pre class="programlisting cpp">
  delete <code class="varname">message</code>;
  if (<code class="varname">err</code>) {
    return <code class="constant">B_ERROR</code>;
  }
  return <code class="constant">B_OK</code>;
}
</pre><p>
Now you can send a message by calling <code class="function">sendmail()</code>:
</p><pre class="programlisting cpp">
<span class="type">status_t</span> <code class="varname">error</code> = <code class="function">sendmail</code>("foo@bar.com",
                          "Subject",
                          "sheppy@be.com",
                          "sheppy@bar.com",
                          "This is the message body.",
                          "/boot/home/file.zip");
</pre><p>
This will send, to foo@bar.com, the message "This is the message body."
with the file <code class="filename">/boot/home/file.zip</code> attached. The From will be listed as
sheppy@be.com, and the Reply-to will be sheppy@bar.com.
</p><p>
You could also do:
</p><pre class="programlisting cpp">
<span class="type">status_t</span> <code class="varname">error</code> = <code class="function">sendmail</code>("foo@bar.com",
                          "Subject",
                          NULL,
                          NULL,
                          "Body",
                          NULL);
</pre><p>
This sends a message to foo@bar.com with a subject "Subject" and the body
"Body." There's no enclosure, and the Mail Kit automatically sets From
and Reply-to to the addresses configured in the E-mail preferences
application.
</p><p>
Read the <code class="filename">E-mail.h</code>
header file to see what other header fields you can
add to your messages.
</p></div><div class="sect2"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="id612065"></a>Special Delivery</h3></div></div></div><p>
When e-mail arrives, the mail daemon creates a new file to contain the
message and adds the appropriate attributes to the file. These attributes
contain things like the subject, from, to, and other fields. With these
attributes firmly in place, you can query the file system to look for
e-mail files based on the values of these fields.
</p><p>
Let's create a sample program that lists the subjects and senders of all
unread messages. We'll call it <code class="function">listmessages()</code>. You should already be
familiar with queries and attributes. If you're not, have a look at the
<code class="classname">BQuery</code> and <code class="classname">BNode</code> sections
in the Storage Kit chapter of the "Be Book."
</p><pre class="programlisting cpp">
<span class="type">void</span> <code class="function">listmessages</code>(<span class="type">void</span>) {
  <code class="classname">BQuery</code> <code class="varname">query</code>;
  <code class="classname">BNode</code> <code class="varname">node</code>;
  <code class="classname">BVolume</code> <code class="varname">vol</code>;
  <code class="classname">BVolumeRoster</code> <code class="varname">vroster</code>;
  <span class="type">entry_ref</span> <code class="varname">ref</code>;
  <span class="type">char</span> <code class="varname">buf</code>[256];
  <span class="type">int32</span> <code class="varname">message_count</code> = 0;
</pre><p>
New messages are stored by the mail daemon on the user's boot disk, so we
begin by using the volume roster to identify the boot disk and set our
query to search on that disk:
</p><pre class="programlisting cpp">
  <code class="varname">vroster</code>.<code class="methodname">GetBootVolume</code>(&amp;<code class="varname">vol</code>);
  <code class="varname">query</code>.<code class="methodname">SetVolume</code>(&amp;<code class="varname">vol</code>);
</pre><p>
The next thing we do is set up our query. We want to search for new mail
messages, so our search predicate is "MAIL:status = New". See the
<code class="filename">E-mail.h</code> header file for a list of the mail message attributes.
</p><p>
If an error occurs while trying to establish the predicate for the query,
we bail out:
</p><pre class="programlisting cpp">
  if (<code class="varname">query</code>.<code class="methodname">SetPredicate</code>("MAIL:status = New") != <code class="constant">B_OK</code>) {
    <code class="function">printf</code>("Error: can't set query predicate.\n");
    return;
  }
</pre><p>
Then we run the query. If an error occurs, we print an appropriate
message and give up:
</p><pre class="programlisting cpp">
  if (<code class="varname">query</code>.<code class="methodname">Fetch</code>() != <code class="constant">B_OK</code>) {
    <code class="function">printf</code>("Error: new mail query failed.\n");
    return;
  }
</pre><p>
Now it's time to loop through the files in the query's result set. We'll
use <code class="methodname">BQuery::GetNextRef()</code> to iterate through them. For each entry, we set
up a <code class="classname">BNode</code> so we can use <code class="classname">BNode</code>'s
attribute functions to read the file's
attributes. Again, as good programmers, we gracefully cope with errors:
</p><pre class="programlisting cpp">
  while (<code class="varname">query</code>.<code class="methodname">GetNextRef</code>(&amp;<code class="varname">ref</code>) == <code class="constant">B_OK</code>) {
    <code class="varname">message_count</code>++;    <span class="comment">// Increment message counter</span>

    if (<code class="varname">node</code>.<code class="methodname">SetTo</code>(&amp;<code class="varname">ref</code>) != <code class="constant">B_OK</code>) {
      <code class="function">printf</code>("Error: error scanning new messages.\n");
      return;
    }
</pre><p>
Next, we read the From attribute. This attribute's name is given by the
constant <code class="constant">B_MAIL_ATTR_FROM</code>. We use a 256-byte buffer, preinitialized to an
empty string, and call <code class="methodname">BNode::ReadAttr()</code> to read the attribute into the
buffer.
</p><p>
To facilitate formatting our display, we chop off the From string at 20
characters, then print the message number and the From attribute to the
screen:
</p><pre class="programlisting cpp">
    <code class="varname">buf</code>[0] = '\0';    <span class="comment">// If error, use empty string</span>
    <code class="varname">node</code>.<code class="methodname">ReadAttr</code>(<code class="constant">B_MAIL_ATTR_FROM</code>, <code class="constant">B_STRING_TYPE</code>, 0, <code class="varname">buf</code>, 255);
    <code class="varname">buf</code>[20] = '\0';    <span class="comment">// Truncate to 20 characters</span>
    <code class="function">printf</code>("%3d From: %-20s", <code class="varname">message_count</code>, <code class="varname">buf</code>);
</pre><p>
Our loop ends by reading the Subject attribute (<code class="constant">B_MAIL_ATTR_SUBJECT</code>),
truncating it to 40 characters, and printing it as well:
</p><pre class="programlisting cpp">
    <code class="varname">buf</code>[0] = '\0';    <span class="comment">// If error, use empty string</span>
    <code class="varname">node</code>.<code class="methodname">ReadAttr</code>(<code class="constant">B_MAIL_ATTR_SUBJECT</code>, <code class="constant">B_STRING_TYPE</code>, 0, <code class="varname">buf</code>, 255);
    <code class="varname">buf</code>[40] = '\0';    <span class="comment">// Truncate to 40 characters</span>
    <code class="function">printf</code>("   Sub: %s\n", <code class="varname">buf</code>);
  }
</pre><p>
To add a little panache, we round things out by displaying the total
number of new messages. If we didn't find any new messages, we say so:
</p><pre class="programlisting cpp">
  if (<code class="varname">message_count</code>) {
    <code class="function">beep</code>();    <span class="comment">// The postman beeps once</span>
    <code class="function">printf</code>("%d new messages.\n", <code class="varname">message_count</code>);
    <code class="function">beep</code>();    <span class="comment">// The postman beeps twice</span>
  }
  else {
    <code class="function">printf</code>("No new messages.\n");
  }
</pre><p>
The output from this function looks something like this. The "&lt;she" is
the beginning of my e-mail address, chopped off by our 20-character
truncation of the From attribute:
</p><pre class="screen">
  1 From: "Eric Shepherd" &lt;she   Sub: Newsletter test
  2 From: "Eric Shepherd" &lt;she   Sub: re: BeOS programming
2 new messages.
</pre><p>
Consider this: In the while loop, you obtain an <span class="type">entry_ref</span> for every new
e-mail on the user's system. Instead of listing out the subject and
sender's names, you could just as easily open up the file and show the
contents in a window. You're well on your way to having an e-mail reader
without even breaking a sweat (and we all know how expensive it is to
replace broken sweat).
</p></div></div><hr class="pagebreak" /><div class="sect1"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="Marketing2-50"></a>Some Thoughts for the New Year</h2></div><div xmlns:d="http://docbook.org/ns/docbook"><span xmlns="http://www.w3.org/1999/xhtml" class="author">By <span class="firstname">Dave</span> <span class="surname">Johnson</span></span></div></div></div><div class="sect2"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="id612585"></a>We Have Apps</h3></div></div></div><p>
I'm sure you've all heard the "chicken-and-egg" paradox, which has it
that developers won't do applications for the BeOS before there is an
installed customer base, and customers won't install the BeOS until there
are applications.
</p><p>
Well, I'm pleased to say that our "egg" days are over and we're hatching.
At our Macworld Expo booth in January, several software companies will
demonstrate compelling applications that let you do things you cannot do
on Mac or Windows, that out-perform Mac and Windows apps, and that
generally prove the BeOS is a superior platform for media applications.
</p></div><div class="sect2"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="id612610"></a>More Apps Are In The Pipeline</h3></div></div></div><p>
There are more applications coming. I can't give you specifics, except to
say that it's time to change the way you think about the BeOS. As we
expand into the Intel world there will no longer be any basis for the
criticism "but they have no apps." (I don't yet know what criticism will
take its place, but it won't be that.) The Intel port represents a big
change in how we see the BeOS, and we need to adjust our brains around it.
</p><p>
But please don't replace "I don't think I'll develop an app for the BeOS
because there aren't any apps" with "I don't want to develop for the BeOS
because someone is probably already doing the app I want to do." The BeOS
running on Intel offers a huge opportunity—and you have a head start.
The field is wide open for you to write your dream application with
minimal competition.
</p></div><div class="sect2"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="id612638"></a>The BeOS Is Not A Mac Utility</h3></div></div></div><p>
The BeOS has always been a separate operating system, even if it happened
to run on the Macintosh. More and more, you'll see us listed as an
independent platform alongside Mac, Windows, Unix, Linux, DOS, etc...
</p></div><div class="sect2"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="id612653"></a>The BeOS Is Fiber And CD</h3></div></div></div><p>
Some of us have been working with the BeOS for so long that we don't
remember the experience of discovering it for the first time. Seeing and
using the BeOS for the first time is one of those defining moments,
paradigm shifts, flash realizations, spiritual transformations...
</p><p>
I saw this again as I watched someone here give his first demo last
Friday. He was a little nervous and awkward, looking at his script,
hesititant, but his confidence was sustained by a guy in the audience who
kept shouting, "MY GOD!" and "OH MY GOD!!!" every time he showed another
BeOS feature.
</p><p>
The BeOS is the equivalent of a fiber-optic infrastructure upon which
your media applications are built, bringing a quantum increase in
performance. Mac and Windows are old copper wire systems. Mac and Windows
are vinyl and the BeOS is CD.
</p><p>
Sure, there's a lot of support out there for copper wire systems, just
like there was a huge inventory of vinyl recordings. Hundreds of
manufacturers build things like insulators and transformers for telephone
poles, wire cutters, connector boards...plus lots of electricians, etc...
</p><p>
Because fiber is new technology there is not that kind of support
structure in place yet. (The infrastructure is coming for the BeOS
because YOU are going to develop products and drivers and make a lot of
money—right?)
</p><p>
But this isn't like Beta vs. VHS, where both are acceptable so either one
can win. This is fiber vs. copper and it is a matter of spreading the
word, getting the awareness out there. It is a question of "when," not
"if." From now on media apps must be on the BeOS to be competitive. The
BeOS *is* the Media OS.
</p></div></div><hr class="pagebreak" /><div class="sect1"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="Gassee2-50"></a>Tectonic Plates</h2></div><div xmlns:d="http://docbook.org/ns/docbook"><span xmlns="http://www.w3.org/1999/xhtml" class="author">By <span class="firstname">Jean-Louis</span> <span class="surname">Gassée</span></span></div></div></div><p>
I was wrong when I assumed Judge Jackson would take his time ruling on
the Department of Justice complaint. Rule he did, but the exact meaning
of the ruling evades yours truly; the writ appears to state that either
party could ultimately win the case. Judge Jackson grants a temporary
injunction but not the fine requested by the DOJ, and appoints a Special
Master, Lawrence Lessig, a noted cyberspace jurist, to render a more
definite ruling by May 1998. Microsoft appeals, criticizes the ruling,
and proposes to comply in such a manner as to raise eyebrows. Strange.
</p><p>
Two less immediately controversial items recently piqued my amateur
kremlinologist interest. One is the spin TCI puts on its next generation
set-top box efforts, the other is the Sun-Intel pact around Merced, the
next generation high-end microprocessor. Do these shifts of the industry
tectonic plates signal a distancing from Redmond?
</p><p>
Let's start with TCI. The company is in the final phase of defining its
new set-top box platform. Until recently, Windows CE was assumed to be
the obvious choice for the OS. What we now have from TCI's PR department
is a mille-feuille—a sandwich of hardware, operating system, add-ons
and applications, with diagrams naming several candidates for each layer.
The processor could come from Intel, Motorola, SGS, LSI Logic and so on;
the OS from Microsoft or Oracle's NCI; systems would be made by NextLevel
(nee General Instruments), Scientific Atlanta, Sony; program guides from
Microsoft, StarSight, Thomson for starters; and the service providers
would range from @Home to AOL, TCI itself, NBC and AT&amp;T among a plethora
of contenders. The spin is that TCI wants this to be a very open platform
(with a capital "Oh").
</p><p>
Open? Or simply closed to (the perception of) Microsoft domination? After
all, this isn't the best time to get caught in a loving embrace with a
company whose investment in the cable business has already caused
concern. If Windows CE (Consumer Electronics) becomes the Windows of
set-top boxen, another game is over, critics say. The anti-trust division
of the DOJ, already in a bellicose mood, would not be charmed.
</p><p>
So the claim of "openess" could be mere posturing. We'll see. In the
meantime, let's crack open the history books...
</p><p>
You could say TCI is trying to reproduce in vitro what happened in the
personal computer business: In the beginning, there were all sorts of
processors and operating systems. Over the years, an elimination process
took place and got us where we are, with Wintel running on most desktops.
Now, TCI wants to play a disinterested Mother Nature as the set-top
biosphere settles on its fittest survivors. Of course, the unabetted
process of elimination isn't a spectator sport. (Geeks might enjoy the
show, but consumers won't.) If TCI wants success with couch potatoes as
well as Internet users, they'll have to limit the number of permutations.
My guess is that they know this, and they will try to nudge the dice. As
long as they have the perception of competition without actually losing
control of the strings—which implies something other than Windows CE.
</p><p>
The other shift happening this week is the Sun-Intel pact, or the
Solaris-Merced agreement. Merced is the grand unifier, developed as the
successor to the Pentium as well as HP's RISC Precision Architecture. It
will run both legacy instruction sets, plus a new, more advanced one.
Today's announcement means, among other things, Sun's system software
will run on Merced ("optimized" the release says, as if it would tell you
if they had done a quick, dirty, and dispirited port).
</p><p>
Big announcements of big alliances sometimes produce just that, the
announcement. Even if the alliance holds, this is something of a
non-event—who's going to not support Merced? Or it may be a defensive
move on Sun's part: After failing to achieve anything of market
consequence on Intel processors, an Intel/HP duopoly in the juicy server
business doesn't feel good.
</p><p>
Another interpretation, not necessarily exclusive, is that Intel likes
the idea of using Merced as an opportunity to change the power structure
they've profited from, but not always unequivocally enjoyed, in the PC
business. After all, Windows CE and NT work on other processors—why
shouldn't Intel work with more OS partners?
</p><p>
For Intel to approach the server business with Merced, HP's Unix, Sun's
Solaris, and Windows NT must feel good. And we might remember that all
new Intel chips are initially positioned for server and other high-end
applications, the current ones being ideal for mainstream desktop
applications. That was the story for the 386, the 486, the Pentium and
the Pentium II. Soon enough, with process prowess, they become affordable
for the mainstream. So will Merced.
</p><p>
And Microsoft, seeing all this, will keep claiming they have much
competition to worry about.
</p></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="Issue2-49.html">Issue 2-49, December 10, 1997</a>  Up: <a href="volume2.html">Volume 2: 1997</a>  Next: <a href="Issue2-51.html">Issue 2-51, December 24, 1997</a> </div><div id="footerB"><div id="footerBL"><a href="Issue2-49.html" title="Issue 2-49, December 10, 1997"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="volume2.html" title="Volume 2: 1997"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="Issue2-51.html" title="Issue 2-51, December 24, 1997"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div></body></html>
