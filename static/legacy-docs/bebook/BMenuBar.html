<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - Classes And Methods - The Interface Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheInterfaceKit.html" title="The Interface Kit" /><link rel="prev" href="BMenu.html" title="BMenu" /><link rel="next" href="BMenuField.html" title="BMenuField" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="BMenu.html" title="BMenu"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheInterfaceKit.html" title="The Interface Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="BMenuField.html" title="BMenuField"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - Classes And Methods - The Interface Kit</div></div><div id="headerB">Prev: <a href="BMenu.html">BMenu</a>  Up: <a href="TheInterfaceKit.html">The Interface Kit</a>  Next: <a href="BMenuField.html">BMenuField</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar"></a>BMenuBar</h2></div></div></div><a id="id999229" class="indexterm"></a><div class="classheader"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Derived From:</td><td><a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a></td></tr><tr><td>Mix-in Classes:</td><td>–</td></tr><tr><td>Declared In:</td><td><code class="filename">interface/MenuBar.h</code></td></tr><tr><td>Library:</td><td><code class="filename">libbe.so</code></td></tr><tr><td>Allocation:</td><td>–</td></tr></tbody></table></td><td>
<a class="link overview" href="BMenuBar_Overview.html" title="BMenuBar">Class Overview</a>
<div class="toc"><ul><li><span class="section"><a href="BMenuBar.html#BMenuBar_ConstructorDestructor">Constructor and Destructor</a></span></li><li><span class="section"><a href="BMenuBar.html#BMenuBar_HookFunctions">Hook Functions</a></span></li><li><span class="section"><a href="BMenuBar.html#BMenuBar_MemberFunctions">Member Functions</a></span></li><li><span class="section"><a href="BMenuBar.html#BMenuBar_StaticFunctions">Static Functions</a></span></li><li><span class="section"><a href="BMenuBar.html#BMenuBar_ArchivedFields">Archived Fields</a></span></li></ul></div>
</td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar_ConstructorDestructor"></a>Constructor and Destructor</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar_Constructor"></a>BMenuBar()</h4></div></div></div><div class="synopsisgroup">
<code class="constructorsynopsis cpp"><span class="methodname">BMenuBar</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">frame</span></span>,<br />         <span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">name</span></span>,<br />         <span class="methodparam"><span class="type">uint32 </span><span class="parameter">resizingMode</span><span class="initializer"> = <span class="constant">B_FOLLOW_LEFT_RIGHT</span> | <span class="constant">B_FOLLOW_TOP</span></span></span>,<br />         <span class="methodparam"><span class="type">menu_layout </span><span class="parameter">layout</span><span class="initializer"> = <span class="constant">B_ITEMS_IN_ROW</span></span></span>,<br />         <span class="methodparam"><span class="type">bool </span><span class="parameter">resizeToFit</span><span class="initializer"> = <span class="constant">true</span></span></span>);</code>

<code class="constructorsynopsis cpp"><span class="methodname">BMenuBar</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>);</code>
</div><p>
Initializes the <code class="classname">BMenuBar</code> by assigning it a
<code class="parameter">frame</code> rectangle, a <code class="parameter">name</code>, and a
<code class="parameter">resizingMode</code>, just like other
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>s. These values are passed up the
inheritance hierarchy to the
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
<a class="link" href="BView.html#BView_Constructor" title="BView()"><code class="methodname">constructor</code></a>.
The default resizing mode
(<code class="constant">B_FOLLOW_LEFT_RIGHT</code> plus <code class="constant">B_FOLLOW_TOP</code>)
is designed for a true menu bar
(one that's displayed along the top edge of a window). It permits the
menu bar to adjust itself to changes in the window's width, while keeping
it glued to the top of the window frame.
</p><p>
The layout argument determines how items are arranged in the menu bar. By
default, they're arranged in a row as befits a true menu bar. If an
instance of this class is being used to implement something other than a
horizontal menu, items can be laid out in a column ( <code class="constant">B_ITEMS_IN_COLUMN</code> )
or in a matrix ( <code class="constant">B_ITEMS_IN_MATRIX</code> ).
</p><p>
If the <code class="parameter">resizeToFit</code> flag is turned on, as it is by default, the frame
rectangle of the <code class="classname">BMenuBar</code> will be automatically resized to fit the items
it displays. This is generally a good idea, since it relieves you of the
responsibility of testing user preferences to determine what size the
menu bar should be. Because the font and font size for menu items are
user preferences, items can vary in size from user to user.
</p><p>
When <code class="parameter">resizeToFit</code> is <code class="constant">true</code>, the
frame rectangle determines only where the
menu bar is located, not how large it will be. The rectangle's left and
top data members are respected, but the right and bottom sides are
adjusted to accommodate the items that are added to the menu bar.
</p><p>
Two kinds of adjustments are made if the layout is <code class="constant">B_ITEMS_IN_ROW</code>, as it
typically is for a menu bar:
</p><ul class="itemizedlist"><li><p>
The height of the menu bar is adjusted to the height of a single item.
</p></li><li><p>
If the <code class="parameter">resizingMode</code> includes <code class="constant">B_FOLLOW_LEFT_RIGHT</code>, the width of the
menu bar is adjusted to match the width of its parent view. This means
that a true menu bar (one that's a child of the window's top view) will
always be as wide as the window.
</p></li></ul><p>
Two similar adjustments are made if the menu bar layout is
<code class="constant">B_ITEMS_IN_COLUMN</code>:
</p><ul class="itemizedlist"><li><p>
The width of the menu bar is adjusted to the width of the widest item.
</p></li><li><p>
If the <code class="parameter">resizingMode</code> includes <code class="constant">B_FOLLOW_TOP_BOTTOM</code>, the height of the
menu bar is adjusted to match the height of its parent view.
</p></li></ul><p>
After setting up the key menu bar and adding items to it, you may want to
set the minimum width of the window so that certain items won't be hidden
when the window is resized smaller.
</p><p>
Change the <code class="parameter">resizingMode</code>, the <code class="parameter">layout</code>,
and the <code class="parameter">resizeToFit</code> flag as needed
for <code class="classname">BMenuBar</code>s that are used for a purpose other than to implement a true
menu bar.
</p><p>
See also:
the <a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a> <a class="link" href="BMenu.html#BMenu_Constructor" title="BMenu()">constructor</a>,
<a class="link" href="BWindow.html#BWindow_SetSizeLimits" title="SetSizeLimits(), GetSizeLimits(), SetZoomLimits()"><code class="methodname">BWindow::SetSizeLimits()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar_Destructor"></a>~BMenuBar()</h4></div></div></div><code class="destructorsynopsis cpp"><span class="modifier">virtual </span><span class="methodname">~BMenuBar</span>();</code><p>
Frees all the items and submenus in the entire menu hierarchy, and all
memory allocated by the <code class="classname">BMenuBar</code>.
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar_HookFunctions"></a>Hook Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar_AttachedToWindow"></a>AttachedToWindow()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">AttachedToWindow</span>();</code><p>
Finishes the initialization of the <code class="classname">BMenuBar</code> by setting up the whole
hierarchy of menus that it controls, and by making the
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a> to which
it has become attached the target handler for all items in the menu
hierarchy, except for those items for which a target has already been set.
</p><p>
This function also makes the <code class="classname">BMenuBar</code> the key menu bar,
the <code class="classname">BMenuBar</code>
object whose menu hierarchy the user can navigate from the keyboard. If a
window contains more than one <code class="classname">BMenuBar</code> in its view hierarchy, the last
one that's added to the window gets to keep this designation. However,
the key menu bar should always be the real menu bar at the top of the
window. It can be explicitly set with
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>'s
<a class="link" href="BWindow.html#BWindow_SetKeyMenuBar"><code class="methodname">SetKeyMenuBar()</code></a> function.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar_Draw"></a>Draw()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Draw</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">updateRect</span></span>);</code><p>
Draws the menu—whether as a true menu bar, as some other kind of
menu list, or as a single item that controls a pop-up menu. This function
is called as the result of update messages; you don't need to call it
yourself.
</p><p>
See also:
<a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">BView::Draw()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar_MouseDown"></a>MouseDown()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">MouseDown</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">point</span></span>);</code><p>
Initiates mouse tracking and keyboard navigation of the menu hierarchy.
This function is called to notify the <code class="classname">BMenuBar</code> of a mouse-down event.
</p><p>
See also:
<a class="link" href="BView.html#BView_MouseDown" title="MouseDown()"><code class="methodname">BView::MouseDown()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar_MemberFunctions"></a>Member Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar_Archive"></a>Archive()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Archive</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>,<br />                         <span class="methodparam"><span class="type">bool </span><span class="parameter">deep</span><span class="initializer"> = <span class="constant">true</span></span></span>) <span class="modifier">const</span>;</code><p>
Calls the inherited version of
<a class="link" href="BMenu.html#BMenu_Archive" title="Archive()"><code class="methodname">Archive()</code></a>
which serves to archive the
<code class="classname">BMenuBar</code>'s current state and, if the <code class="parameter">deep</code>
flag is <code class="constant">true</code>, all its menu
items. This function then adds the <code class="classname">BMenuBar</code>'s border style to the
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> archive.
</p><p>
See also:
<a class="link" href="BArchivable.html#BArchivable_Archive" title="Archive()"><code class="methodname">BArchivable::Archive()</code></a>,
<a class="link" href="BMenu.html#BMenu_Archive" title="Archive()"><code class="methodname">BMenu::Archive()</code></a>,
<a class="link" href="BMenuBar.html#BMenuBar_Instantiate" title="Instantiate()"><code class="methodname">Instantiate()</code></a> static function
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar_Hide"></a><a id="BMenuBar_Show"></a>
Hide() , Show()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Hide</span>();</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Show</span>();</code><p>
These functions override their
<a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a> counterparts to restore the normal
behavior for views when they're hidden and unhidden. When an ordinary
<a class="link" href="BMenu.html" title="BMenu"><code class="classname">BMenu</code></a> is hidden, the
window that displays it is also removed from the
screen. But it would be a mistake to remove the window that displays a
<code class="classname">BMenuBar</code>. Hiding a <code class="classname">BMenuBar</code>
is like hiding a typical view; only the view
is hidden, not the window.
</p><p>
See also:
<a class="link" href="BView.html#BView_Hide" title="Hide(), Show()"><code class="methodname">BView::Hide()</code></a>
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar_SetBorder"></a><a id="BMenuBar_Border"></a>
SetBorder(), Border()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SetBorder</span>(<span class="methodparam"><span class="type">menu_bar_border </span><span class="parameter">border</span></span>);</code><code class="methodsynopsis cpp"><span class="type">menu_bar_border </span><span class="methodname">Border</span>() <span class="modifier">const</span>;</code><p>
<code class="methodname">SetBorder()</code> determines how the menu list is bordered.
The <code class="parameter">border</code> argument
can be any of three values:
</p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_BORDER_FRAME</code></span></p></td><td><p>The border is drawn around the entire frame rectangle.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BORDER_CONTENTS</code></span></p></td><td><p>The border is drawn around just the list of items.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BORDER_EACH_ITEM</code></span></p></td><td><p>A border is drawn around each item.</p></td></tr></tbody></table><p>
<code class="methodname">Border()</code> returns the current setting.
The default is <code class="constant">B_BORDER_FRAME</code>.
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar_StaticFunctions"></a>Static Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar_Instantiate"></a>Instantiate()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">static </span><span class="type"><a class="link" href="BArchivable.html" title="BArchivable"><code class="classname">BArchivable</code></a>* </span><span class="methodname">Instantiate</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">archive</span></span>);</code><p>
Returns a new <code class="classname">BMenuBar</code> object, allocated by new and created with the
version of the constructor that takes a
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> archive. However, if the
archive message doesn't contain data for a <code class="classname">BMenuBar</code> object, this function
returns <code class="constant">NULL</code>.
</p><p>
See also:
<a class="link" href="BArchivable.html#BArchivable_Instantiate" title="Instantiate()"><code class="methodname">BArchivable::Instantiate()</code></a>,
<a class="link" href="TheSupportKit_Functions.html#instantiate_object" title="instantiate_object()"><code class="function">instantiate_object()</code></a>,
<a class="link" href="BMenuBar.html#BMenuBar_Archive" title="Archive()"><code class="methodname">Archive()</code></a>
</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMenuBar_ArchivedFields"></a>Archived Fields</h3></div></div></div><p>
The <a class="link" href="BMenuBar.html#BMenuBar_Archive" title="Archive()"><code class="methodname">Archive()</code></a>
function adds the following fields to its
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> argument:
</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Field</th><th>Type code</th><th>Description</th></tr></thead><tbody><tr><td><code class="varname">_border</code></td><td><code class="constant">B_INT32_TYPE</code></td><td>Menu bar border (exists only if not <code class="constant">B_BORDER_FRAME</code>)</td></tr></tbody></table></div></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="BMenu.html">BMenu</a>  Up: <a href="TheInterfaceKit.html">The Interface Kit</a>  Next: <a href="BMenuField.html">BMenuField</a> </div><div id="footerB"><div id="footerBL"><a href="BMenu.html" title="BMenu"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheInterfaceKit.html" title="The Interface Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="BMenuField.html" title="BMenuField"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div></body></html>
