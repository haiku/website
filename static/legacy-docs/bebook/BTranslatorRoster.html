<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - Classes And Methods - The Translation Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheTranslationKit.html" title="The Translation Kit" /><link rel="prev" href="BTranslator.html" title="BTranslator" /><link rel="next" href="TranslatorAddOns.html" title="Translator Add-Ons" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="BTranslator.html" title="BTranslator"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheTranslationKit.html" title="The Translation Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="TranslatorAddOns.html" title="Translator Add-Ons"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - Classes And Methods - The Translation Kit</div></div><div id="headerB">Prev: <a href="BTranslator.html">BTranslator</a>  Up: <a href="TheTranslationKit.html">The Translation Kit</a>  Next: <a href="TranslatorAddOns.html">Translator Add-Ons</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster"></a>BTranslatorRoster</h2></div></div></div><a id="id1294156" class="indexterm"></a><div class="classheader"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Derived From:</td><td>–</td></tr><tr><td>Mix-in Classes:</td><td><a class="link" href="BArchivable.html" title="BArchivable"><code class="classname">BArchivable</code></a></td></tr><tr><td>Declared In:</td><td><code class="filename">translation/TranslatorRoster.h</code></td></tr><tr><td>Library:</td><td><code class="filename">libtranslation.so</code></td></tr><tr><td>Allocation:</td><td>–</td></tr></tbody></table></td><td>
<a class="link overview" href="BTranslatorRoster_Overview.html" title="BTranslatorRoster">Class Overview</a>
<div class="toc"><ul><li><span class="section"><a href="BTranslatorRoster.html#BTranslatorRoster_ConstructorDestructor">Constructor and Destructor</a></span></li><li><span class="section"><a href="BTranslatorRoster.html#BTranslatorRoster_MemberFunctions">Member Functions</a></span></li><li><span class="section"><a href="BTranslatorRoster.html#BTranslatorRoster_StaticFunctions">Static Functions</a></span></li><li><span class="section"><a href="BTranslatorRoster.html#BTranslatorRoster_ArchivedFields">Archived Fields</a></span></li></ul></div>
</td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_ConstructorDestructor"></a>Constructor and Destructor</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_Constructor"></a>BTranslatorRoster()</h4></div></div></div><code class="constructorsynopsis cpp"><span class="methodname">BTranslatorRoster</span>();</code><code class="constructorsynopsis cpp"><span class="methodname">BTranslatorRoster</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">model</span></span>);</code><p>Creates a new container for translators. The no-argument constructor
creates an empty container. The
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>
constructor loads all the
translators from the directories specified in the <code class="varname">be:translator_path</code>
named fields in <code class="parameter">model</code>.</p><p>If you just want to load the translators from the standard directories,
you can instead use the static member
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_Default" title="Default()"><code class="methodname">Default()</code></a>
described below.</p><p>See also:
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_AddTranslators" title="AddTranslators()"><code class="methodname">AddTranslators()</code></a></p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_Destructor"></a>~BTranslatorRoster()</h4></div></div></div><code class="destructorsynopsis cpp"><span class="methodname">~BTranslatorRoster</span>();</code><p>Unloads any translators that were loaded and frees all memory allocated
by the <code class="classname">BTranslatorRoster</code>.</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_MemberFunctions"></a>Member Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_AddTranslators"></a>AddTranslators()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">AddTranslators</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">load_path</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code><p>Loads all the translators located in the colon-deliminated list of files
and directories found in <code class="parameter">load_path</code>. All specified paths must be absolute.
If <code class="parameter">load_path</code> is <code class="constant">NULL</code>, it loads the translators from the locations
specified in the <code class="envar">TRANSLATORS</code> environment variable. If the environment
variable is not defined, then it loads all the files in the default
directories <code class="filename">/boot/home/config/add-ons/Translators</code>,
<code class="filename">/boot/home/config/add-ons/Datatypes</code>, and
<code class="filename">/system/add-ons/Translators</code>.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Translators added successfully.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p> Error parsing <code class="parameter">load_path</code>.</p></td></tr><tr><td><p><span class="term">Anything else.</span></p></td><td><p> Error loading add-ons.</p></td></tr></tbody></table><p>See also:
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_Default" title="Default()"><code class="methodname">Default()</code></a>
static function</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_Archive"></a>Archive()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Archive</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">into</span></span>,<br />                         <span class="methodparam"><span class="type">bool* </span><span class="parameter">deep</span><span class="initializer"> = <span class="constant">true</span></span></span>) <span class="modifier">const</span>;</code><p>Archives the <code class="classname">BTranslatorRoster</code> by recording its loaded add-ons in the
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> into.</p><p>See also:
<a class="link" href="BArchivable.html#BArchivable_Archive" title="Archive()"><code class="methodname">BArchivable::Archive()</code></a>,
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_Instantiate" title="Instantiate()"><code class="methodname">Instantiate()</code></a>
static function</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_GetAllTranslators"></a>GetAllTranslators()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">GetAllTranslators</span>(<span class="methodparam"><span class="type">translator_id** </span><span class="parameter">outList</span></span>,<br />                                   <span class="methodparam"><span class="type">int32* </span><span class="parameter">outCount</span></span>) <span class="modifier">const</span>;</code><p>Returns, in <code class="parameter">outList</code>, an array of all the translators loaded by the
<code class="classname">BTranslationRoster</code>. The number of elements in the array is placed in
<code class="parameter">outCount</code>. The application assumes responsibility for deallocating the
array.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Success.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NOT_INITIALIZED</code>.</span></p></td><td><p>Internal Translation Kit error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p><code class="parameter">outList</code>
or <code class="parameter">outCount</code> is <code class="constant">NULL</code>.</p></td></tr></tbody></table><p>See also:
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_Identify" title="Identify()"><code class="methodname">Identify()</code></a>,
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_GetTranslators" title="GetTranslators()"><code class="methodname">GetTranslators()</code></a>,
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_GetAllTranslators" title="GetAllTranslators()"><code class="methodname">GetAllTranslators()</code></a></p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_GetConfigurationMessage"></a>GetConfigurationMessage()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">GetConfigurationMessage</span>(<span class="methodparam"><span class="type">translator_id </span><span class="parameter">forTranslator</span></span>,<br />                                         <span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">ioExtension</span></span>);</code><p>Saves the current configuration information for
translator <code class="parameter">forTranslator</code>
in <code class="parameter">ioExtension</code>. This information may be flattened, unflattened, and
passed to
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_Translate" title="Translate()"><code class="methodname">Translate()</code></a>
to configure it.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Success.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_TRANSLATOR</code>.</span></p></td><td><p><code class="parameter">forTranslator</code> not a valid <span class="type">translator_id</span>.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NOT_INITIALIZED</code>.</span></p></td><td><p>Internal Translation Kit error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p><code class="parameter">ioExtension</code> is <code class="constant">NULL</code>.</p></td></tr><tr><td><p><span class="term">Anything else.</span></p></td><td><p>Error passed on from add-on.</p></td></tr></tbody></table><p>See also:
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_MakeConfigurationView" title="MakeConfigurationView()"><code class="methodname">MakeConfigurationView()</code></a>,
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_Translate" title="Translate()"><code class="methodname">Translate()</code></a></p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_GetInputFormats"></a><a id="BTranslatorRoster_GetOutputFormats"></a>
GetInputFormats(), GetOutputFormats()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">GetInputFormats</span>(<span class="methodparam"><span class="type">translator_id </span><span class="parameter">forTranslator</span></span>,<br />                                 <span class="methodparam"><span class="modifier">const </span><span class="type">translation_format** </span><span class="parameter">outFormats</span></span>,<br />                                 <span class="methodparam"><span class="type">int32* </span><span class="parameter">outNumFormats</span></span>);</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">GetOutputFormats</span>(<span class="methodparam"><span class="type">translator_id </span><span class="parameter">forTranslator</span></span>,<br />                                  <span class="methodparam"><span class="modifier">const </span><span class="type">translation_format** </span><span class="parameter">outFormats</span></span>,<br />                                  <span class="methodparam"><span class="type">int32* </span><span class="parameter">outNumFormats</span></span>);</code><p>Returns an array of the published accepted input or output formats for
translator forTranslator. outNumFormats is filled with the number of
elements in the array.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Success.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_TRANSLATOR</code>.</span></p></td><td><p><code class="parameter">forTranslator</code>
not a valid <span class="type">translator_id</span>.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NOT_INITIALIZED</code>.</span></p></td><td><p>Internal Translation Kit error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p><code class="parameter">outFormats</code>
or <code class="parameter">outNumFormats</code> is <code class="constant">NULL</code>.</p></td></tr></tbody></table><p>See also:
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_GetTranslatorInfo" title="GetTranslatorInfo()"><code class="methodname">GetTranslatorInfo()</code></a></p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_GetTranslatorInfo"></a>GetTranslatorInfo()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">GetTranslatorInfo</span>(<span class="methodparam"><span class="type">translator_id </span><span class="parameter">forTranslator</span></span>,<br />                                   <span class="methodparam"><span class="modifier">const </span><span class="type">char** </span><span class="parameter">outName</span></span>,<br />                                   <span class="methodparam"><span class="modifier">const </span><span class="type">char** </span><span class="parameter">outInfo</span></span>,<br />                                   <span class="methodparam"><span class="type">int32* </span><span class="parameter">outNumFormats</span></span>);</code><p>Returns public information about translator <code class="parameter">forTranslator</code>.
Sets <code class="parameter">outName</code>
with a short description of the translator, <code class="parameter">outInfo</code> with a longer
description, and <code class="parameter">outVersion</code> with the translator's version number.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Success.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_TRANSLATOR</code>.</span></p></td><td><p><code class="parameter">forTranslator</code>
not a valid <span class="type">translator_id</span>.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NOT_INITIALIZED</code>.</span></p></td><td><p>Internal Translation Kit error.</p></td></tr></tbody></table><p>See also:
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_GetInputFormats" title="GetInputFormats(), GetOutputFormats()"><code class="methodname">GetInputFormats()</code></a>,
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_GetOutputFormats"><code class="methodname">GetOutputFormats()</code></a></p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_GetTranslators"></a>GetTranslators()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">GetTranslators</span>(<span class="methodparam"><span class="type"><a class="link" href="BPositionIO.html" title="BPositionIO"><code class="classname">BPositionIO</code></a>* </span><span class="parameter">inSource</span></span>,<br />                                <span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">ioExtension</span></span>,<br />                                <span class="methodparam"><span class="type">translator_info** </span><span class="parameter">outInfo</span></span>,<br />                                <span class="methodparam"><span class="type">int32* </span><span class="parameter">outNumInfo</span></span>,<br />                                <span class="methodparam"><span class="type">uint32 </span><span class="parameter">inHintType</span><span class="initializer"> = 0</span></span>,<br />                                <span class="methodparam"><span class="modifier">const </span><span class="type">char** </span><span class="parameter">inHintMIME</span><span class="initializer"> = <span class="constant">NULL</span></span></span>,<br />                                <span class="methodparam"><span class="type">uint32 </span><span class="parameter">inWantType</span><span class="initializer"> = 0</span></span>);</code><p>Identifies the media in <code class="parameter">inSource</code>, returning an
array of valid formats and translators equipped to handle them in
<code class="parameter">outInfo</code>. <code class="parameter">outNumInfo</code> holds the
number of elements in the array. If <code class="parameter">inHintType</code> or
<code class="parameter">inHintMIME</code> is specified, only those translators that
can accept data of the specified type are searched. If
<code class="parameter">inWantType</code> is specified, only those translators that
can output data of that type are searched.
<code class="parameter">ioExtension</code> offers an opportunity for the
application to specify additional configuration information to the add-ons.
The application assumes responsibility for deallocating the array.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Identification of <code class="parameter">inSource</code> was successful.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_TRANSLATOR</code>.</span></p></td><td><p>No suitable translators found.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NOT_INITIALIZED</code>.</span></p></td><td><p>Internal Translation Kit error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p><code class="parameter">inSource</code>,
<code class="parameter">outInfo</code>, or <code class="parameter">outNumInfo</code>
is <code class="constant">NULL</code>.</p></td></tr><tr><td><p><span class="term">Anything else.</span></p></td><td><p>Error operating on <code class="parameter">inSource</code>.</p></td></tr></tbody></table><p>See also:
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_Identify" title="Identify()"><code class="methodname">Identify()</code></a>,
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_GetAllTranslators" title="GetAllTranslators()"><code class="methodname">GetAllTranslators()</code></a></p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_Identify"></a>Identify()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Identify</span>(<span class="methodparam"><span class="type"><a class="link" href="BPositionIO.html" title="BPositionIO"><code class="classname">BPositionIO</code></a>* </span><span class="parameter">inSource</span></span>,<br />                          <span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">ioExtension</span></span>,<br />                          <span class="methodparam"><span class="type">translator_info* </span><span class="parameter">outInfo</span></span>,<br />                          <span class="methodparam"><span class="type">uint32 </span><span class="parameter">inHintType</span><span class="initializer"> = 0</span></span>,<br />                          <span class="methodparam"><span class="modifier">const </span><span class="type">char** </span><span class="parameter">inHintMIME</span><span class="initializer"> = <span class="constant">NULL</span></span></span>,<br />                          <span class="methodparam"><span class="type">uint32 </span><span class="parameter">inWantType</span><span class="initializer"> = 0</span></span>);</code><p>Identifies the media in <code class="parameter">inSource</code>, returning a
best guess of the format and the translator best equipped to handle it in
<code class="parameter">outInfo</code>. If <code class="parameter">inHintType</code> or
<code class="parameter">inHintMIME</code> is specified, only those translators that
can accept data of the specified type are searched. If
<code class="parameter">inWantType</code> is specified, only those translators that
can output data of that type are searched.
<code class="parameter">ioExtension</code> offers an opportunity for the
application to specify additional configuration information to the
add-ons.</p><p>If more than one translator can identify <code class="parameter">inSource</code>,
then the one with the highest quality*capability is returned.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Identification of
<code class="parameter">inSource</code> was successful.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_TRANSLATOR</code>.</span></p></td><td><p>No suitable translator found.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NOT_INITIALIZED</code>.</span></p></td><td><p>Internal Translation Kit error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p><code class="parameter">inSource</code> or
<code class="parameter">outInfo</code> is <code class="constant">NULL</code>.</p></td></tr><tr><td><p><span class="term">Anything else.</span></p></td><td><p>Error operating on <code class="parameter">inSource</code>.</p></td></tr></tbody></table><p>See also:
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_GetTranslators" title="GetTranslators()"><code class="methodname">GetTranslators()</code></a>,
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_GetAllTranslators" title="GetAllTranslators()"><code class="methodname">GetAllTranslators()</code></a></p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_MakeConfigurationView"></a>MakeConfigurationView()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">MakeConfigurationView</span>(<span class="methodparam"><span class="type">translator_id </span><span class="parameter">forTranslator</span></span>,<br />                                       <span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">ioExtension</span></span>,<br />                                       <span class="methodparam"><span class="type"><a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>** </span><span class="parameter">outView</span></span>,<br />                                       <span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a>* </span><span class="parameter">outExtent</span></span>);</code><p>Returns, in <code class="parameter">outView</code>, a
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> containing
controls to configure translator
<code class="parameter">forTranslator</code>. It is the application's responsibility to attach the
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
to a
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>.
The initial size of the
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> is given in
<code class="parameter">outExtent</code> but may
be resized by the application.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Success.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_TRANSLATOR</code>.</span></p></td><td><p><code class="parameter">forTranslator</code>
not a valid <span class="type">translator_id</span>.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NOT_INITIALIZED</code>.</span></p></td><td><p>Internal Translation Kit error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p><code class="parameter">outView</code>
or <code class="parameter">outExtent</code> is <code class="constant">NULL</code>.</p></td></tr><tr><td><p><span class="term">Anything else.</span></p></td><td><p>Error passed on from add-on.</p></td></tr></tbody></table><p>See also:
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_GetConfigurationMessage" title="GetConfigurationMessage()"><code class="methodname">GetConfigurationMessage()</code></a>,
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_Translate" title="Translate()"><code class="methodname">Translate()</code></a></p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_Translate"></a>Translate()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Translate</span>(<span class="methodparam"><span class="type"><a class="link" href="BPositionIO.html" title="BPositionIO"><code class="classname">BPositionIO</code></a>* </span><span class="parameter">inSource</span></span>,<br />                           <span class="methodparam"><span class="modifier">const </span><span class="type">translator_info* </span><span class="parameter">inInfo</span></span>,<br />                           <span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">ioExtension</span></span>,<br />                           <span class="methodparam"><span class="type"><a class="link" href="BPositionIO.html" title="BPositionIO"><code class="classname">BPositionIO</code></a>* </span><span class="parameter">outDestination</span></span>,<br />                           <span class="methodparam"><span class="type">uint32 </span><span class="parameter">inWantOutType</span></span>,<br />                           <span class="methodparam"><span class="type">uint32 </span><span class="parameter">inHintType</span><span class="initializer"> = 0</span></span>,<br />                           <span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">inHintMIME</span><span class="initializer"> = <span class="constant">NULL</span></span></span>);</code>

<code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Translate</span>(<span class="methodparam"><span class="type">translator_id </span><span class="parameter">inTranslator</span></span>,<br />                           <span class="methodparam"><span class="type"><a class="link" href="BPositionIO.html" title="BPositionIO"><code class="classname">BPositionIO</code></a>* </span><span class="parameter">inSource</span></span>,<br />                           <span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">ioExtension</span></span>,<br />                           <span class="methodparam"><span class="type"><a class="link" href="BPositionIO.html" title="BPositionIO"><code class="classname">BPositionIO</code></a>* </span><span class="parameter">outDestination</span></span>,<br />                           <span class="methodparam"><span class="type">uint32 </span><span class="parameter">inWantOutType</span></span>);</code>
</div><p>These two functions carry out data conversion, converting the data in
<code class="parameter">inSource</code> to type
<code class="parameter">inWantoutType</code> and placing the resulting output in
<code class="parameter">outDestination</code>. <code class="parameter">inInfo</code> should
always contain either the output of an
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_Identify" title="Identify()"><code class="methodname">Identify()</code></a>
call or <code class="constant">NULL</code>. The translation uses the translator identified
by <span class="code"><code class="parameter">inInfo</code>-&gt;<code class="varname">infoTranslator</code></span>
or <code class="parameter">inTranslator</code> as appropriate. If <code class="parameter">inInfo</code> is
<code class="constant">NULL</code>, <code class="methodname">Translate()</code> will call first
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_Identify" title="Identify()"><code class="methodname">Identify()</code></a>
to discover the format of
the input stream. <code class="parameter">ioExtension</code>, if it is not <code class="constant">NULL</code>, provides a
communication path between the translator and the application. <code class="parameter">inHintType</code>
and <code class="parameter">inHintMIME</code>, if provided, are passed as hints to the translator.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code>.</span></p></td><td><p>Success.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_TRANSLATOR</code>.</span></p></td><td><p>No suitable translators found.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NOT_INITIALIZED</code>.</span></p></td><td><p>Internal Translation Kit error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code>.</span></p></td><td><p><code class="parameter">inSource</code>
or <code class="parameter">outSource</code> is <code class="constant">NULL</code>.</p></td></tr><tr><td><p><span class="term">Anything else.</span></p></td><td><p>Error passed on from add-on.</p></td></tr></tbody></table></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_StaticFunctions"></a>Static Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_Default"></a>Default()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">BTranslatorRoster* </span><span class="methodname">Default</span>();</code><p>This returns a <code class="classname">BTranslatorRoster</code> loaded with the default set of
translators, loaded from the colon-deliminated list of files and
directories found in the environment variable <code class="envar">TRANSLATORS</code>. If no such
variable exists, the translators are loaded from the default locations
<code class="filename">/boot/home/config/add-ons/Translators</code>,
<code class="filename">/boot/home/config/add-ons/Datatypes</code>, and
<code class="filename">/system/add-ons/Translators</code>.</p><p>The instance of <code class="classname">BTranslatorRoster</code> returned by this function is global to
the application and should not be deleted. Although you can add
translators to the returned <code class="classname">BTranslatorRoster</code>, this is not recommended.
It's better to use a new instance of the class.</p><p>See also:
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_AddTranslators" title="AddTranslators()"><code class="methodname">AddTranslators()</code></a></p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_Instantiate"></a>Instantiate()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">BTranslatorRoster* </span><span class="methodname">Instantiate</span>(<span class="methodparam"><span class="type"><a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>* </span><span class="parameter">from</span></span>);</code><p>Returns a new <code class="classname">BTranslatorRoster</code>
object, allocated by new and created with
the version of the constructor that takes a
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>
archive. However, if the archive doesn't contain data for a
<code class="classname">BTranslatorRoster</code> object,
<code class="methodname">Instantiate()</code> returns <code class="constant">NULL</code>.</p><p>See also:
<a class="link" href="BArchivable.html#BArchivable_Instantiate" title="Instantiate()"><code class="methodname">BArchivable::Instantiate()</code></a>,
<a class="link" href="TheSupportKit_Functions.html#instantiate_object" title="instantiate_object()"><code class="function">instantiate_object()</code></a>,
<a class="link" href="BTranslatorRoster.html#BTranslatorRoster_Archive" title="Archive()"><code class="methodname">Archive()</code></a></p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_Version"></a>Version()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">const </span><span class="type">char* </span><span class="methodname">Version</span>(<span class="methodparam"><span class="type">int32* </span><span class="parameter">outCurVersion</span></span>,<br />                    <span class="methodparam"><span class="type">int32* </span><span class="parameter">outMinVersion</span></span>,<br />                    <span class="methodparam"><span class="type">int32* </span><span class="parameter">inAppVersion</span><span class="initializer"> = <span class="constant">B_TRANSLATION_CURRENT_VERSION</span></span></span>);</code><p>Sets <code class="parameter">outCurVersion</code> to the Translation Kit
protocol version number and <code class="parameter">outMinVersion</code> to the
minimum protocol version number supported. Returns a human-readable string
containing version information. Currently,
<code class="parameter">inAppVersion</code> must be
<code class="constant">B_TRANSLATION_CURRENT_VERSION</code>.</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BTranslatorRoster_ArchivedFields"></a>Archived Fields</h3></div></div></div><p>The <a class="link" href="BTranslatorRoster.html#BTranslatorRoster_Archive" title="Archive()"><code class="methodname">Archive()</code></a>
function adds the following field to its
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a> argument:</p><div class="informaltable"><table border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>Field</th><th>Type code</th><th>Description</th></tr></thead><tbody><tr><td><code class="varname">be:translator_path</code> (array)</td><td><code class="constant">B_STRING_TYPE</code></td><td>The location of the Translation Kit add-on (one
field per add-on).</td></tr></tbody></table></div></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="BTranslator.html">BTranslator</a>  Up: <a href="TheTranslationKit.html">The Translation Kit</a>  Next: <a href="TranslatorAddOns.html">Translator Add-Ons</a> </div><div id="footerB"><div id="footerBL"><a href="BTranslator.html" title="BTranslator"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheTranslationKit.html" title="The Translation Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="TranslatorAddOns.html" title="Translator Add-Ons"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div></body></html>
