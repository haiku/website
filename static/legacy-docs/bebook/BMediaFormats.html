<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - Classes And Methods - The Media Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheMediaKit.html" title="The Media Kit" /><link rel="prev" href="BMediaFiles.html" title="BMediaFiles" /><link rel="next" href="BMediaNode.html" title="BMediaNode" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="BMediaFiles.html" title="BMediaFiles"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheMediaKit.html" title="The Media Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="BMediaNode.html" title="BMediaNode"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - Classes And Methods - The Media Kit</div></div><div id="headerB">Prev: <a href="BMediaFiles.html">BMediaFiles</a>  Up: <a href="TheMediaKit.html">The Media Kit</a>  Next: <a href="BMediaNode.html">BMediaNode</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats"></a>BMediaFormats</h2></div></div></div><a id="id1143137" class="indexterm"></a><div class="classheader"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Derived From:</td><td>–</td></tr><tr><td>Mix-in Classes:</td><td>–</td></tr><tr><td>Declared In:</td><td><code class="filename">media/MediaFormats.h</code></td></tr><tr><td>Library:</td><td><code class="filename">libmedia.so</code></td></tr><tr><td>Allocation:</td><td>Constructor only</td></tr></tbody></table></td><td>
<a class="link overview" href="BMediaFormats_Overview.html" title="BMediaFormats">Class Overview</a>
<div class="toc"><ul><li><span class="section"><a href="BMediaFormats.html#BMediaFormats_ConstructorDestructor">Constructor and Destructor</a></span></li><li><span class="section"><a href="BMediaFormats.html#BMediaFormats_MemberFunctions">Member Functions</a></span></li><li><span class="section"><a href="BMediaFormats.html#BMediaFormats_Constants">Constants</a></span></li><li><span class="section"><a href="BMediaFormats.html#BMediaFormats_DefinedTypes">Defined Types</a></span></li><li><span class="section"><a href="BMediaFormats.html#BMediaFormats_Functions">Global C Functions</a></span></li></ul></div>
</td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_ConstructorDestructor"></a>Constructor and Destructor</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_Constructor"></a>BMediaFormats()</h4></div></div></div><code class="constructorsynopsis cpp"><span class="methodname">BMediaFormats</span>();</code><p>Constructor. Call
<a class="link" href="BMediaFormats.html#BMediaFormats_InitCheck" title="InitCheck()"><code class="methodname">InitCheck()</code></a>
to ensure that the object was initialized properly after you instantiate it.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_Destructor"></a>~BMediaFormats()</h4></div></div></div><code class="destructorsynopsis cpp"><span class="modifier">virtual </span><span class="methodname">~BMediaFormats</span>();</code><p>Destructor.</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_MemberFunctions"></a>Member Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_GetBeOSFormatFor"></a><a id="BMediaFormats_GetAVIFormatFor"></a>
<a id="BMediaFormats_GetQuicktimeFormatFor"></a>
GetBeOSFormatFor(), GetAVIFormatFor(), GetQuicktimeFormatFor()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetBeOSFormatFor</span>(<span class="methodparam"><span class="type">uint32 </span><span class="parameter">format</span></span>,<br />                          <span class="methodparam"><span class="type">media_format* </span><span class="parameter">outFormat</span></span>,<br />                          <span class="methodparam"><span class="type">media_type </span><span class="parameter">type</span><span class="initializer"> = <span class="constant">B_MEDIA_UNKNOWN_TYPE</span></span></span>);</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetAVIFormatFor</span>(<span class="methodparam"><span class="type">uint32 </span><span class="parameter">format</span></span>,<br />                         <span class="methodparam"><span class="type">media_format* </span><span class="parameter">outFormat</span></span>,<br />                         <span class="methodparam"><span class="type">media_type </span><span class="parameter">type</span><span class="initializer"> = <span class="constant">B_MEDIA_UNKNOWN_TYPE</span></span></span>);</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetQuicktimeFormatFor</span>(<span class="methodparam"><span class="type">uint32 </span><span class="parameter">vendor</span></span>,<br />                               <span class="methodparam"><span class="type">uint32 </span><span class="parameter">codec</span></span>,<br />                               <span class="methodparam"><span class="type">media_format* </span><span class="parameter">outFormat</span></span>,<br />                               <span class="methodparam"><span class="type">media_type </span><span class="parameter">type</span><span class="initializer"> = <span class="constant">B_MEDIA_UNKNOWN_TYPE</span></span></span>);</code><p><code class="methodname">GetBeOSFormatFor()</code> returns in
<code class="parameter">outFormat</code> a
<a class="link" href="TheMediaKit_DefinedTypes.html#media_format" title="media_format"><span class="type">media_format</span></a>
structure that describes the media format corresponding to the given BeOS
<code class="parameter">format</code> ID and
<a class="link" href="TheMediaKit_Constants.html#Constants_media_type" title="media_type"><span class="type">media_type</span></a>.</p><p><code class="methodname">GetAVIFormatFor()</code> returns in
<code class="parameter">outFormat</code> a
<a class="link" href="TheMediaKit_DefinedTypes.html#media_format" title="media_format"><span class="type">media_format</span></a>
structure that describes the media format corresponding to the given AVI
<code class="parameter">format</code> ID and
<a class="link" href="TheMediaKit_Constants.html#Constants_media_type" title="media_type"><span class="type">media_type</span></a>.</p><p><code class="methodname">GetQuicktimeormatFor()</code> returns in
<code class="parameter">outFormat</code> a
<a class="link" href="TheMediaKit_DefinedTypes.html#media_format" title="media_format"><span class="type">media_format</span></a>
structure that describes the media format corresponding to the given QuickTime
<code class="parameter">vendor</code> ID, <code class="parameter">codec</code> ID, and
<a class="link" href="TheMediaKit_Constants.html#Constants_media_type" title="media_type"><span class="type">media_type</span></a>.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>No error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_TYPE</code></span></p></td><td><p>The specified
<a class="link" href="TheMediaKit_Constants.html#Constants_media_type" title="media_type"><span class="type">media_type</span></a>.
isn't supported.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MEDIA_BAD_FORMAT</code></span></p></td><td><p>The specified combination of parameters isn't  supported.</p></td></tr><tr><td><p><span class="term">Other errors</span></p></td><td><p>The format couldn't be determined.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_GetCodeFor"></a>GetCodeFor()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetCodeFor</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">media_format&amp; </span><span class="parameter">format</span></span>,<br />                    <span class="methodparam"><span class="type">media_format_family </span><span class="parameter">family</span></span>,<br />                    <span class="methodparam"><span class="type">media_format_description* </span><span class="parameter">outDescription</span></span>);</code><p>Given the specified media format, returns
in <code class="parameter">outDescription</code> the media
format description for the specified <code class="parameter">format</code> family.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>No error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MEDIA_BAD_FORMAT</code></span></p></td><td><p>The specified format isn't recognized.</p></td></tr><tr><td><p><span class="term">Other errors</span></p></td><td><p>The code couldn't be determined.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_GetFormatFor"></a>GetFormatFor()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetFormatFor</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">media_format_description&amp; </span><span class="parameter">description</span></span>,<br />                      <span class="methodparam"><span class="type">media_format* </span><span class="parameter">outFormat</span></span>);</code><p>Returns in <code class="parameter">outFormat</code> a
<a class="link" href="TheMediaKit_DefinedTypes.html#media_format" title="media_format"><span class="type">media_format</span></a>
structure that describes the media format specified by
<code class="parameter">description</code>. This lets you easily obtain a
<a class="link" href="TheMediaKit_DefinedTypes.html#media_format" title="media_format"><span class="type">media_format</span></a>
structure from file-native description information.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>No error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MEDIA_BAD_FORMAT</code></span></p></td><td><p>The specified description isn't recognized.</p></td></tr><tr><td><p><span class="term">Other errors</span></p></td><td><p>The format couldn't be determined.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_GetNextFormat"></a>GetNextFormat()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">GetFormatFor</span>(<span class="methodparam"><span class="type">media_format* </span><span class="parameter">outFormat</span></span>,<br />                      <span class="methodparam"><span class="type">media_format_description* </span><span class="parameter">outDescription</span></span>);</code><p>Fills <code class="parameter">outFormat</code> and
<code class="parameter">outDescription</code> with the
<a class="link" href="TheMediaKit_DefinedTypes.html#media_format" title="media_format"><span class="type">media_format</span></a>
and
<a class="link" href="BMediaFormats.html#media_format_description" title="media_format_description"><span class="type">media_format_description</span></a>
of the next supported media format.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>No error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_INDEX</code></span></p></td><td><p>No more formats to return.</p></td></tr><tr><td><p><span class="term">Other errors</span></p></td><td><p>The format couldn't be determined.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_InitCheck"></a>InitCheck()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">InitCheck</span>();</code><p>Returns the status code from the constructor; you should call this to be
sure the object was properly initialized before issuing any other calls.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>The object is ready to use.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_HANDLER</code></span></p></td><td><p>The object isn't ready.</p></td></tr><tr><td><p><span class="term">Other errors</span></p></td><td><p>The Media Server couldn't be contacted.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_Lock"></a><a id="BMediaFormats_Unlock"></a>
Lock(), Unlock()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">Lock</span>();</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">Lock</span>();</code><p><code class="methodname">Lock()</code> locks the
<code class="classname">BMediaFormats</code> object so you can use it with the
assurance that it won't change while you're working. You should call this
before using any of the other <code class="classname">BMediaFormats</code> functions.
Returns <code class="constant">true</code> if it's safe to use the
<code class="classname">BMediaFormats</code> object; otherwise returns
<code class="constant">false</code>.</p><p><code class="methodname">Unlock()</code> releases the
<code class="classname">BMediaFormats</code> object when you're done with it; be
sure to call it when you've finished your work.</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>You only need to <code class="methodname">Lock()</code> and
<code class="methodname">Unlock()</code> the <code class="classname">BMediaFormats</code> object when
you're using
<a class="link" href="BMediaFormats.html#BMediaFormats_RewindFormats" title="RewindFormats()"><code class="methodname">RewindFormats()</code></a> and
<a class="link" href="BMediaFormats.html#BMediaFormats_GetNextFormat" title="GetNextFormat()"><code class="methodname">GetNextFormat()</code></a>.</p></div></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_MakeFormatFor"></a>MakeFormatFor()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">MakeFormatFor</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">media_format_description* </span><span class="parameter">descriptions</span></span>,<br />                       <span class="methodparam"><span class="type">int32 </span><span class="parameter">descCount</span></span>,<br />                       <span class="methodparam"><span class="type">media_format* </span><span class="parameter">ioFormat</span></span>,<br />                       <span class="methodparam"><span class="type">uint32 </span><span class="parameter">flags</span><span class="initializer"> = 0</span></span>,<br />                       <span class="methodparam"><span class="type">void* </span><span class="parameter">_reserved</span><span class="initializer"> = 0</span></span>);</code><p>Given the media format descriptions in the <code class="parameter">descriptions</code> array, the number
of descriptions in the list, <code class="parameter">descCount</code>, and the
<a class="link" href="TheMediaKit_DefinedTypes.html#media_format" title="media_format"><span class="type">media_format</span></a>
<code class="parameter">ioFormat</code>,
registers your format description and supported
<a class="link" href="TheMediaKit_DefinedTypes.html#media_format" title="media_format"><span class="type">media_format</span></a>
with the Media Kit, and returns a
<a class="link" href="TheMediaKit_DefinedTypes.html#media_format" title="media_format"><span class="type">media_format</span></a>
you can use from then on.</p><p>This function is called to let the Media Server assign you an encoding
value for your
<a class="link" href="BMediaFormats.html#media_format_description" title="media_format_description"><span class="type">media_format_description</span></a>.
If you're implementing a codec
add-on or a file parser, you should call this function to let the Media
Kit know what you handle.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>No error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code></span></p></td><td><p>The <code class="parameter">descriptions</code> pointer is
<code class="constant">NULL</code>, the <code class="parameter">descCount</code> is less
than 1, or <code class="parameter">ioFormat</code> is <code class="constant">NULL</code>.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_ERROR</code></span></p></td><td><p>Some other unfortunate incident occurred.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_RewindFormats"></a>RewindFormats()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">RewindFormats</span>();</code><p>Resets format scanning to the first supported format; this causes
<a class="link" href="BMediaFormats.html#BMediaFormats_GetNextFormat" title="GetNextFormat()"><code class="methodname">GetNextFormat()</code></a>
to start at the beginning of the list.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>The object is ready to use.</p></td></tr><tr><td><p><span class="term">Other errors.</span></p></td><td><p>Unable to communicate with the Media Server.</p></td></tr></tbody></table></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_Constants"></a>Constants</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="Constants_make_format_flags"></a><a id="B_EXCLUSIVE"></a>
<a id="B_NO_MERGE"></a>
<a id="B_SET_DEFAULT"></a>
make_format_flags</h4></div></div></div><p>Declared in: <code class="filename">media/MediaFormats.h</code></p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_EXCLUSIVE</code></span></p></td><td><p>Fail if this format has already been registered.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_NO_MERGE</code></span></p></td><td><p>Don't renumber any formats if there are multiple clashing
previous registrations, but fail instead.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_SET_DEFAULT</code></span></p></td><td><p>Set the first format to be the default for the format
family when registering more than one in the same family. Use only in
encoder add-ons.</p></td></tr></tbody></table><p>These constants provide options for how to go about adding new formats.</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_DefinedTypes"></a>Defined Types</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="media_aiff_description"></a>media_aiff_description</h4></div></div></div><a id="id1144689" class="indexterm"></a><p>Declared in: <code class="filename">media/MediaFormats.h</code></p><pre class="programlisting definition c">typedef struct {
   <span class="type">uint32</span> <code class="varname">codec</code>;
} <span class="type">media_aiff_description</span>;</pre><p>Describes the format of media data as an AIFF codec ID.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="media_asf_description"></a>media_asf_description</h4></div></div></div><a id="id1144741" class="indexterm"></a><p>Declared in: <code class="filename">media/MediaFormats.h</code></p><pre class="programlisting definition c">typedef struct {
   <span class="type">GUID</span> <code class="varname">guid</code>;
} <span class="type">media_asf_description</span>;</pre><p>Describes the format of media data as a 128-bit ASF GUID.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="media_avi_description"></a>media_avi_description</h4></div></div></div><a id="id1144794" class="indexterm"></a><p>Declared in: <code class="filename">media/MediaFormats.h</code></p><pre class="programlisting definition c">typedef struct {
   <span class="type">uint32</span> <code class="varname">codec</code>;
} <span class="type">media_avi_description</span>;</pre><p>Describes the format of media data as an AVI codec ID.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="media_avr_description"></a>media_avr_description</h4></div></div></div><a id="id1144846" class="indexterm"></a><p>Declared in: <code class="filename">media/MediaFormats.h</code></p><pre class="programlisting definition c">typedef struct {
   <span class="type">uint32</span> <code class="varname">id</code>;
} <span class="type">media_avr_description</span>;</pre><p>Describes the format of media data as an AVR codec ID.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="media_beos_description"></a>media_beos_description</h4></div></div></div><a id="id1144898" class="indexterm"></a><p>Declared in: <code class="filename">media/MediaFormats.h</code></p><pre class="programlisting definition c">typedef struct {
   <span class="type">int32</span> <code class="varname">format</code>;
} <span class="type">media_beos_description</span>;</pre><p>Describes the format of media data in a way the BeOS Media Kit
understands and appreciates. The <code class="varname">format</code> field has no predetermined
meaning; it's a magic number that only the Media Kit understands.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="media_codec_info"></a>media_codec_info</h4></div></div></div><a id="id1144956" class="indexterm"></a><p>Declared in: <code class="filename">media/MediaFormats.h</code></p><pre class="programlisting definition c"><span class="type">struct encoder_info</span> {
   <span class="type">char</span> <code class="varname">pretty_name</code>[96];
   <span class="type">char</span> <code class="varname">short_name</code>[32];

   <span class="type">int32</span> <code class="varname">id</code>;
   <span class="type">int32</span> <code class="varname">sub_id</code>;

   <span class="type">int32</span> <code class="varname">pad</code>[63];
};</pre><p>Provides information about an encoder. The <code class="varname">pretty_name</code> is a complete
human-readable name (such as "SuperSqueeze by Applied Interdynamic
Systems, Inc."), and the <code class="varname">short_name</code> is a short-form version of the
encoder's name (such as "SuperSqueeze").</p><p>The <code class="varname">id</code> is an opaque ID number that gets passed to
<a class="link" href="BMediaFile.html#BMediaFile_CreateTrack" title="CreateTrack()"><code class="methodname">BMediaFile::CreateTrack()</code></a>
so the track can identify the encoder.</p><p>The padding is reserved space for future expansion of the structure.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="media_file_format_info"></a>media_file_format_info</h4></div></div></div><a id="id1145068" class="indexterm"></a><p>Declared in: <code class="filename">media/MediaFormats.h</code></p><pre class="programlisting definition c"><span class="type">struct media_file_format_info</span> {
   <span class="type">char</span> <code class="varname">mimetype</code>[64];
   <span class="type">char</span> <code class="varname">pretty_name</code>[64];
   <span class="type">char</span> <code class="varname">short_name</code>[32];
   <span class="type">char</span> <code class="varname">file_extension</code>[8];

   <span class="type">media_format_family</span> <code class="varname">family</code>;

   <span class="type">int64</span> <code class="varname">capabilities</code>;
   <span class="type">int32</span> <code class="varname">id</code>;

   <span class="type">int32</span> <code class="varname">pad</code>[64];
};</pre><p>Describes a media file format. This is used when using
<a class="link" href="BMediaFile.html" title="BMediaFile"><code class="classname">BMediaFile</code></a>
objects to determine the type of media file being used.</p><table class="variablelist fields"><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="varname">mimetype</code></span></p></td><td><p>Is the file format's MIME type string.</p></td></tr><tr><td><p><span class="term"><code class="varname">pretty_name</code></span></p></td><td><p>Is a human-readable file format name, such as "QuickTime
file".</p></td></tr><tr><td><p><span class="term"><code class="varname">short_name</code></span></p></td><td><p>Is a human-readable short name, such as "QuickTime".
</p></td></tr><tr><td><p><span class="term"><code class="varname">file_extension</code></span></p></td><td><p>Indicates the dot-extension that untyped files of this
format might have, such as ".mov".</p></td></tr><tr><td><p><span class="term"><code class="varname">family</code></span></p></td><td><p>Indicates the BeOS file format family of the format, such as
<code class="constant">B_MEDIA_QUICKTIME_FAMILY</code>.</p></td></tr><tr><td><p><span class="term"><code class="varname">capabilities</code></span></p></td><td><p>Contains flags indicating what features the format
supports.</p></td></tr><tr><td><p><span class="term"><code class="varname">id</code></span></p></td><td><p>Is a unique ID number for the format.</p></td></tr><tr><td><p><span class="term"><code class="varname">pad</code></span></p></td><td><p>Pads out the structure, and is reserved.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="media_format_description"></a>media_format_description</h4></div></div></div><a id="id1145322" class="indexterm"></a><p>Declared in: <code class="filename">media/MediaFormats.h</code></p><pre class="programlisting definition cpp">typedef <span class="type">struct _media_format_description</span> {
#if defined(__cplusplus)
   <code class="methodname">_media_format_description</code>();
   <code class="methodname">~_media_format_description</code>();
   <code class="methodname">_media_format_description</code>(<span class="type">const _media_format_description&amp;</span> <code class="parameter">other</code>);
   <span class="type">_media_format_description&amp;</span> <code class="methodname">operator=</code>(<span class="type">const _media_format_description&amp;</span> <code class="parameter">other</code>);
#endif
   <span class="type">media_format_family</span> <code class="varname">family</code>;
   <span class="type">uint32</span> <code class="varname">_reserved_</code>[3];
   union {
      <span class="type">media_beos_description</span> <code class="varname">beos</code>;
      <span class="type">media_quicktime_description</span> <code class="varname">quicktime</code>;
      <span class="type">media_avi_description</span> <code class="varname">avi</code>;
      <span class="type">media_asf_description</span> <code class="varname">asf</code>;
      <span class="type">media_mpeg_description</span> <code class="varname">mpeg</code>;
      <span class="type">media_wav_description</span> <code class="varname">wav</code>;
      <span class="type">media_aiff_description</span> <code class="varname">aiff</code>;
      <span class="type">media_misc_description</span> <code class="varname">misc</code>;
      <span class="type">media_avr_description</span> <code class="varname">avr</code>;
      <span class="type">uint32</span> <code class="varname">_reserved_</code>[12];
   } <code class="varname">u</code>;
} <span class="type">media_format_description</span>;</pre><p>Describes a media format. The family indicates which media family in the
union the description uses to identify the format.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="media_misc_description"></a>media_misc_description</h4></div></div></div><a id="id1145505" class="indexterm"></a><p>Declared in: <code class="filename">media/MediaFormats.h</code></p><pre class="programlisting definition c">typedef struct {
   <span class="type">uint32</span> <code class="varname">file_format</code>;
   <span class="type">uint32</span> <code class="varname">codec</code>;
} <span class="type">media_misc_description</span>;</pre><p>Describes the format of a miscellaneous media file.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="media_mpeg_description"></a>media_mpeg_description</h4></div></div></div><a id="id1145564" class="indexterm"></a><p>Declared in: <code class="filename">media/MediaFormats.h</code></p><pre class="programlisting definition c">typedef struct {
   <span class="type">uint32</span> <code class="varname">id</code>;
} <span class="type">media_mpeg_description</span>;</pre><p>Describes the format of media data as an MPEG format ID; this can be any
of the following values:</p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_MPEG_ANY</code></span></p></td><td><p>An MPEG format not listed among these choices.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MPEG_1_AUDIO_LAYER_1</code></span></p></td><td><p>MPEG 1 Layer 1 audio format.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MPEG_1_AUDIO_LAYER_2</code></span></p></td><td><p>MPEG 1 Layer 2 audio format.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MPEG_1_AUDIO_LAYER_3</code></span></p></td><td><p>MPEG 1 Layer 3 audio format (commonly known as "MP3").</p></td></tr><tr><td><p><span class="term"><code class="constant">B_MPEG_1_VIDEO</code></span></p></td><td><p>An MPEG 1 viedo stream.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="media_quicktime_description"></a>media_quicktime_description</h4></div></div></div><a id="id1145706" class="indexterm"></a><p>Declared in: <code class="filename">media/MediaFormats.h</code></p><pre class="programlisting definition c">typedef struct {
   <span class="type">uint32</span> <code class="varname">file_format</code>;
   <span class="type">uint32</span> <code class="varname">codec</code>;
} <span class="type">media_misc_description</span>;</pre><p>Describes the format of media data as a file format/codec pair.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="media_wav_description"></a>media_wav_description</h4></div></div></div><a id="id1145766" class="indexterm"></a><p>Declared in: <code class="filename">media/MediaFormats.h</code></p><pre class="programlisting definition c">typedef struct {
   <span class="type">uint32</span> <code class="varname">codec</code>;
} <span class="type">media_wav_description</span>;</pre><p>Describes the format of media data as a WAV codec ID.</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BMediaFormats_Functions"></a>Global C Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="does_file_accept_format"></a>does_file_accept_format()</h4></div></div></div><a id="id1145828" class="indexterm"></a><code class="methodsynopsis cpp"><span class="type">bool </span><span class="methodname">does_file_accept_format</span>(<span class="methodparam"><span class="modifier">const </span><span class="type">media_file_format* </span><span class="parameter">mfi</span></span>,<br />                             <span class="methodparam"><span class="modifier">const </span><span class="type">media_format* </span><span class="parameter">format</span></span>);</code><p>Returns <code class="constant">true</code> if the given
<a class="link" href="TheMediaKit_DefinedTypes.html#media_file_format" title="media_file_format"><span class="type">media_file_format</span></a>
can contain data in the specified
<a class="link" href="TheMediaKit_DefinedTypes.html#media_format" title="media_format"><span class="type">media_format</span></a>.
Otherwise, <code class="constant">false</code> is returned.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="get_next_encoder"></a>get_next_encoder()</h4></div></div></div><a id="id1145910" class="indexterm"></a><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">get_next_encoder</span>(<span class="methodparam"><span class="type">int32* </span><span class="parameter">cookie</span></span>,<br />                          <span class="methodparam"><span class="type">media_file_format* </span><span class="parameter">mfi</span></span>,<br />                          <span class="methodparam"><span class="type">media_format* </span><span class="parameter">outputFormat</span></span>,<br />                          <span class="methodparam"><span class="type">media_codec_info* </span><span class="parameter">codecInfo</span></span>);</code>

<code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">get_next_encoder</span>(<span class="methodparam"><span class="type">int32* </span><span class="parameter">cookie</span></span>,<br />                          <span class="methodparam"><span class="type">media_file_format* </span><span class="parameter">mfi</span></span>,<br />                          <span class="methodparam"><span class="type">media_format* </span><span class="parameter">inputFormat</span></span>,<br />                          <span class="methodparam"><span class="type">media_format* </span><span class="parameter">outputFormat</span></span>,<br />                          <span class="methodparam"><span class="type">media_codec_info* </span><span class="parameter">codecInfo</span></span>,<br />                          <span class="methodparam"><span class="type">media_format* </span><span class="parameter">acceptedInputFormat</span></span>,<br />                          <span class="methodparam"><span class="type">media_format* </span><span class="parameter">acceptedOutputFormat</span></span>);</code>

<code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">get_next_encoder</span>(<span class="methodparam"><span class="type">int32* </span><span class="parameter">cookie</span></span>,<br />                          <span class="methodparam"><span class="type">media_codec_info* </span><span class="parameter">codecInfo</span></span>);</code>
</div><p>Given a
<a class="link" href="TheMediaKit_DefinedTypes.html#media_file_format" title="media_file_format"><span class="type">media_file_format</span></a>,
<code class="parameter">mfi</code>, describing the format of a media file, a
<a class="link" href="TheMediaKit_DefinedTypes.html#media_format" title="media_format"><span class="type">media_format</span></a>,
<code class="parameter">outputFormat</code>, describing the desired output format, and
optionally a
<a class="link" href="TheMediaKit_DefinedTypes.html#media_format" title="media_format"><span class="type">media_format</span></a>,
<code class="parameter">inputFormat</code> describing the desired input
format, returns in <code class="parameter">codecInfo</code> information about the next encoder capable
of handling the format.</p><p>You should set the <span class="type">int32</span> pointed to by
<code class="parameter">cookie</code> to 0 initially, and pass
the same pointer each time you call
<code class="function">get_next_encoder()</code>,
to scan through
all possible encoders. When there are no more encoders left to check,
<code class="constant">B_BAD_INDEX</code> is returned.</p><p>If you use the second form of this function, on return the
<code class="parameter">acceptedInputFormat</code> and
<code class="parameter">acceptedOutputFormat</code>
<a class="link" href="TheMediaKit_DefinedTypes.html#media_format" title="media_format"><span class="type">media_format</span></a>,
structures will
be filled out to indicate the formats that the codec will accept. This
form of the function supports wildcards, while the first does not.</p><p>The third form of the function is less specific, and can be used to get a
complete list of codecs. This can be handy if you're constructing a user
interface to allow the user to select the codec they'd like to use, to
get a full list of all the possible formats they can create.</p><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>An encoder was found and returned.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_INDEX</code></span></p></td><td><p>The cookie was invalid, or no more encoders found.</p></td></tr></tbody></table><p>See also:
<a class="link" href="TheMediaKit_Functions.html#get_next_file_format" title="get_next_file_format()"><code class="function">get_next_file_format()</code></a>
in the global C functions section.</p></div></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="BMediaFiles.html">BMediaFiles</a>  Up: <a href="TheMediaKit.html">The Media Kit</a>  Next: <a href="BMediaNode.html">BMediaNode</a> </div><div id="footerB"><div id="footerBL"><a href="BMediaFiles.html" title="BMediaFiles"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheMediaKit.html" title="The Media Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="BMediaNode.html" title="BMediaNode"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div></body></html>
