<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - System Overview - The Interface Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheInterfaceKit_Overview.html" title="The Interface Kit" /><link rel="prev" href="BTextView_Overview.html" title="BTextView" /><link rel="next" href="BWindow_Overview.html" title="BWindow" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="BTextView_Overview.html" title="BTextView"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheInterfaceKit_Overview.html" title="The Interface Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="BWindow_Overview.html" title="BWindow"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - System Overview - The Interface Kit</div></div><div id="headerB">Prev: <a href="BTextView_Overview.html">BTextView</a>  Up: <a href="TheInterfaceKit_Overview.html">The Interface Kit</a>  Next: <a href="BWindow_Overview.html">BWindow</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Overview"></a>BView</h2></div></div></div><a id="id560434" class="indexterm"></a><p>A <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
object represents a rectangular area within a window. The object draws
within this rectangle and responds to user events (mouse clicks, key
presses) that are directed at the window.</p><p>Most of the other classes in the Interface Kit inherit from
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>. You can
use these objects off-the-shelf, but for most applications, you'll also
need to create some <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
subclasses, and create instances of these subclasses.</p><p>
The <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> class
is one of the largest in the BeOS class library. Because
of this, the <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
documentation is split across a number of files:
</p><ul class="itemizedlist"><li><p>
<a class="link" href="BView.html#BView_General" title="General Functions">BView General Functions</a>
describes those functions that you use no matter what you're doing
with your <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> object.
</p></li><li><p>
<a class="link" href="BView.html#BView_Drawing" title="Drawing Related Functions">BView Drawing-Related Functions</a>: Anything related to drawing
subdivided into Primitive Drawing Functions (to draw lines, circles,
polygons, etc.) and Other Drawing Functions (such as picture recording,
and bitmap functions).
</p></li><li><p>
<a class="link" href="BView.html#BView_Graphics" title="Graphics State Functions">BView Graphics State Functions</a>
modify or report on the "graphics
state," a set of variables (colors, pen position, scaling, etc.) that
control how drawing takes place in the
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>.
</p></li><li><p>
<a class="link" href="BView.html#BView_Hook" title="Hook Functions">BView Hook Functions</a>
gives a list of the
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
functions that can be implemented in a subclass.
</p></li><li><p>
<a class="link" href="BView.html#BView_ViewHierarchy" title="View Hierarchy Functions">BView View Hierarchy Functions</a>
relate to the nested tree of views associated with a window.
</p></li><li><p>
<a class="link" href="BView.html#BView_Input" title="Input Related Functions">BView Input-Related Functions</a>
monitor and process input activity.
</p></li><li><p>
Scripting and Archival describes the scripting suites and properties,
and archived fields supported by BView.
</p></li></ul><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_DevelopingABViewSubclass"></a>Developing a BView Subclass</h3></div></div></div><p>To define special behavior for a
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>—such as the type of behavior that
might be needed for the canvas area of a painting program—you define your
own subclass of <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>,
and in that subclass implement the appropriate hook
functions of the <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
class. A hook function is a function that is called
by the BeOS internals in response to certain events, and that is intended
specifically for definition in a user-defined subclass. For example, the
<a class="link" href="BView.html#BView_MouseDown" title="MouseDown()"><code class="methodname">BView::MouseDown()</code></a>
hook function is called on a BView instance every time a
mouse button is clicked while the mouse is inside the view. The default
<a class="link" href="BView.html#BView_MouseDown" title="MouseDown()"><code class="methodname">BView::MouseDown()</code></a>
function does nothing, but you can override this with
your own implementation, to respond to mouse-down events as you wish.</p><p>The following are the most commonly used hook functions. Other hook
functions provide for changes in the size or structure of views and
windows, changes in the input focus, and so forth. For a complete list and
reference of hook functions, see
<a class="link" href="BView.html#BView_Hook" title="Hook Functions">BView Hook Functions</a>.</p><table class="variablelist"><tbody><tr><td><p><span class="term"><a class="link" href="BView.html#BView_Draw" title="Draw()"><code class="methodname">Draw()</code></a></span></p></td><td><p>Called whenever the contents of the view need to be drawn or redrawn.</p></td></tr><tr><td><p><span class="term"><a class="link" href="BView.html#BView_KeyDown" title="KeyDown()"><code class="methodname">KeyDown()</code></a></span></p></td><td><p>Called when a keyboard key is pressed.</p></td></tr><tr><td><p><span class="term"><a class="link" href="BView.html#BView_KeyUp" title="KeyUp()"><code class="methodname">KeyUp()</code></a></span></p></td><td><p>Called when a keyboard key is released.</p></td></tr><tr><td><p><span class="term"><a class="link" href="BView.html#BView_MouseDown" title="MouseDown()"><code class="methodname">MouseDown()</code></a></span></p></td><td><p>Called when a mouse button is clicked while the mouse cursor is in the view.</p></td></tr><tr><td><p><span class="term"><a class="link" href="BView.html#BView_MouseMoved" title="MouseMoved()"><code class="methodname">MouseMoved()</code></a></span></p></td><td><p>Called when the mouse cursor enters, exits, or moves within the view.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_TheViewStructure"></a>The View Structure</h3></div></div></div><p>A newly created view is an "orphan"—it won't appear onscreen,
and can't be used for much, because it isn't associated with an onscreen &amp;
quot;parent". To rectify this situation, and give your new view a warm
and loving home, invoke the
<a class="link" href="BView.html#BView_AddChild" title="AddChild(), RemoveChild()"><code class="methodname">AddChild()</code></a>
method of an existin
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a> or
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> object to add the new view as a child, i.e.</p><pre class="programlisting example cpp"><code class="varname">existingWindowOrView</code>.<code class="methodname">AddChild</code>(<code class="varname">yourNewView</code>);</pre><p>Ultimately, all views displayed in a window end up as a tree of views, with
the window as the root of the tree.</p><p>See the BView View Hierarchy Functions section for BView functions related
to this view structuring.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_LockingTheWindow"></a>Locking the Window</h3></div></div></div><p>Most <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
functions expect the view's BWindow to be locked. To find a
view's <a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>
and lock/unlock it, you first call
<a class="link" href="BView.html#BView_Window" title="Window()"><code class="methodname">BView::Window()</code></a>
and then call the
<a class="link" href="BHandler.html#BHandler_LockLooper" title="LockLooper(), LockLooperWithTimeout(), UnlockLooper()"><code class="methodname">LockLooper()</code></a> and
<a class="link" href="BHandler.html#BHandler_UnlockLooper"><code class="methodname">UnlockLooper()</code></a>
functions (defined by
<a class="link" href="BHandler.html" title="BHandler"><code class="classname">BHandler</code></a>,
inherited by
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>):</p><pre class="programlisting example cpp">if (<code class="varname">window</code>.<code class="methodname">LockLooper</code>() ) {
   . . .
   <code class="varname">window</code>.<code class="methodname">UnlockLooper</code>();
}</pre><p><a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
functions check to ensure sure the caller has the window locked. If
the window isn't properly locked, they print warning messages and fail.</p><p>Whenever the system calls a <a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
hook function, it automatically locks the
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a>
for you—you never have to lock the
<a class="link" href="BWindow.html" title="BWindow"><code class="classname">BWindow</code></a> in the implementation of
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a> hook function.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BView_Focus"></a>Focus</h3></div></div></div><p>To facilitate keyboard navigation of views,
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
provides integral support for the concept of focus. The view that has the focus is the one whose
<a class="link" href="BView.html#BView_KeyDown" title="KeyDown()"><code class="methodname">KeyDown()</code></a>
function is called to process keyboard events. Only one view in a
window can have the focus at any given time</p><p>From the user's point-of-view, the tab key rotates the focus from one view
to the next through the navigation group, cycling back to the first view if
the tab key is pressed while the last targetable view in the group has the
focus. <span class="keycap">shift</span>+<span class="keycap">tab</span>
cycles the focus backward. Holding down the <span class="keycap">control</span> key
while cycling groups causes the focus to jump from one navigation group to
the next.</p><p>When a view has the focus, some sort of indicator should be drawn to inform
the user that the view is the focus. Typically, this involves drawing a
line under a label in the view, or possibly drawing a box around the view
or some portion of it. The global
<a class="link" href="TheInterfaceKit_Functions.html#keyboard_navigation_color" title="keyboard_navigation_color()"><code class="function">keyboard_navigation_color()</code></a>
function should be used to obtain the color used to draw the focus indicator.</p><p>The view's
<a class="link" href="BView.html#BView_MakeFocus" title="MakeFocus()"><code class="methodname">MakeFocus()</code></a>
function is called to specify whether or not the
control has the focus; it's called with an argument of <code class="constant">true</code> if the control
has the focus, and <code class="constant">false</code> if it's not the focus;
<a class="link" href="BView.html#BView_MakeFocus" title="MakeFocus()"><code class="methodname">MakeFocus()</code></a>
calls the previously-focused view's
<a class="link" href="BView.html#BView_MakeFocus" title="MakeFocus()"><code class="methodname">MakeFocus()</code></a>
function to inform that view that it's not the focus anymore. You can augment
<a class="link" href="BView.html#BView_MakeFocus" title="MakeFocus()"><code class="methodname">MakeFocus()</code></a> in a subclass if
you need to take notice when the view becomes the focus (or loses the
focus). For example, you may need to draw or erase the keyboard navigation
indicator.</p></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="BTextView_Overview.html">BTextView</a>  Up: <a href="TheInterfaceKit_Overview.html">The Interface Kit</a>  Next: <a href="BWindow_Overview.html">BWindow</a> </div><div id="footerB"><div id="footerBL"><a href="BTextView_Overview.html" title="BTextView"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheInterfaceKit_Overview.html" title="The Interface Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="BWindow_Overview.html" title="BWindow"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div></body></html>
