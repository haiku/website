<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - Classes And Methods - The OpenGL Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheOpenGLKit.html" title="The OpenGL Kit" /><link rel="prev" href="TheOpenGLKit.html" title="The OpenGL Kit" /><link rel="next" href="TheStorageKit.html" title="The Storage Kit" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="TheOpenGLKit.html" title="The OpenGL Kit"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheOpenGLKit.html" title="The OpenGL Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="TheStorageKit.html" title="The Storage Kit"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - Classes And Methods - The OpenGL Kit</div></div><div id="headerB">Prev: <a href="TheOpenGLKit.html">The OpenGL Kit</a>  Up: <a href="TheOpenGLKit.html">The OpenGL Kit</a>  Next: <a href="TheStorageKit.html">The Storage Kit</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView"></a>BGLView</h2></div></div></div><a id="id1219560" class="indexterm"></a><div class="classheader"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Derived From:</td><td><a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a></td></tr><tr><td>Mix-in Classes:</td><td>None</td></tr><tr><td>Declared In:</td><td><code class="filename">opengl/GLView.h</code></td></tr><tr><td>Library:</td><td><code class="filename">libGL.so</code></td></tr><tr><td>Allocation:</td><td>–</td></tr></tbody></table></td><td>
<a class="link overview" href="BGLView_Overview.html" title="BGLView">Class Overview</a>
<div class="toc"><ul><li><span class="section"><a href="BGLView.html#BGLView_ConstructorDestructor">Constructor and Destructor</a></span></li><li><span class="section"><a href="BGLView.html#BGLView_MemberFunctions">Member Functions</a></span></li></ul></div>
</td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView_ConstructorDestructor"></a>Constructor and Destructor</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView_Constructor"></a><a id="BGL_RGB"></a>
<a id="BGL_INDEX"></a>
<a id="BGL_SINGLE"></a>
<a id="BGL_DOUBLE"></a>
<a id="BGL_ACCUM"></a>
<a id="BGL_ALPHA"></a>
<a id="BGL_DEPTH"></a>
<a id="BGL_STENCIL"></a>
BGLView()</h4></div></div></div><a id="id1219784" class="indexterm"></a><a id="id1219793" class="indexterm"></a><a id="id1219802" class="indexterm"></a><a id="id1219811" class="indexterm"></a><a id="id1219820" class="indexterm"></a><a id="id1219829" class="indexterm"></a><a id="id1219838" class="indexterm"></a><a id="id1219847" class="indexterm"></a><code class="constructorsynopsis cpp"><span class="methodname">BGLView</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">frame</span></span>,<br />        <span class="methodparam"><span class="modifier">const </span><span class="type">char* </span><span class="parameter">name</span></span>,<br />        <span class="methodparam"><span class="type">int32 </span><span class="parameter">resizingMode</span></span>,<br />        <span class="methodparam"><span class="type">int32 </span><span class="parameter">flags</span></span>,<br />        <span class="methodparam"><span class="type">int32 </span><span class="parameter">type</span></span>);</code><p>Initializes the view, then creates a new OpenGL drawing context and
attaches it to the view. The <code class="parameter">type</code> argument specifies the OpenGL type
specification for the view:</p><table class="variablelist constants"><thead><tr><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">BGL_RGB</code></span></p></td><td><p>Use RGB graphics instead of indexed color (8-bit). This is the
default if neither <code class="constant">BGL_RGB</code> nor
<code class="constant">BGL_INDEX</code> is specified.</p></td></tr><tr><td><p><span class="term"><code class="constant">BGL_INDEX</code></span></p></td><td><p>Use indexed color (8-bit graphics). Not currently supported.</p></td></tr><tr><td><p><span class="term"><code class="constant">BGL_SINGLE</code></span></p></td><td><p>Use single-buffering; all rendering is done directly to the
display. This is not currently supported by the BeOS implementation of
OpenGL. This is the default if neither <code class="constant">BGL_SINGLE</code>
nor <code class="constant">BGL_DOUBLE</code> is specified.</p></td></tr><tr><td><p><span class="term"><code class="constant">BGL_DOUBLE</code></span></p></td><td><p>Use double-buffered graphics. All rendering is done to an
offscreen buffer and only becomes visible when the
<a class="link" href="BGLView.html#BGLView_SwapBuffers" title="SwapBuffers()"><code class="methodname">SwapBuffers()</code></a>
function is called.</p></td></tr><tr><td><p><span class="term"><code class="constant">BGL_ACCUM</code></span></p></td><td><p>Requests that the view have an accumulation buffer.</p></td></tr><tr><td><p><span class="term"><code class="constant">BGL_ALPHA</code></span></p></td><td><p>Requests that the view's color buffer include an alpha
component.</p></td></tr><tr><td><p><span class="term"><code class="constant">BGL_DEPTH</code></span></p></td><td><p>Requests that the view have a depth buffer.</p></td></tr><tr><td><p><span class="term"><code class="constant">BGL_STENCIL</code></span></p></td><td><p>Requests that the view have a stencil buffer.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView_Destructor"></a>~BGLView()</h4></div></div></div><code class="destructorsynopsis cpp"><span class="modifier">virtual </span><span class="methodname">~BGLView</span>();</code><p>Disposes of the OpenGL context for the view.</p></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView_MemberFunctions"></a>Member Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView_AttachedToWindow"></a>AttachedToWindow()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">~BGLView</span>();</code><p>Calls the inherited version of
<a class="link" href="BView.html#BView_AttachedToWindow" title="AttachedToWindow(), AllAttached()"><code class="methodname">AttachedToWindow()</code></a>
and sets the view color to <code class="constant">B_TRANSPARENT_32_BIT</code>
(this improves performance by preventing the
Application Server from erasing the view, since OpenGL takes over
responsibility for drawing into the view).</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView_CopyPixelsIn"></a><a id="BGLView_CopyPixelsOut"></a>
CopyPixelsIn(), CopyPixelsOut()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">CopyPixelsIn</span>(<span class="methodparam"><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">source</span></span>,<br />                      <span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">dest</span></span>);</code><code class="methodsynopsis cpp"><span class="type">status_t </span><span class="methodname">CopyPixelsOut</span>(<span class="methodparam"><span class="type"><a class="link" href="BPoint.html" title="BPoint"><code class="classname">BPoint</code></a> </span><span class="parameter">source</span></span>,<br />                       <span class="methodparam"><span class="type"><a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>* </span><span class="parameter">dest</span></span>);</code><p>These functions copy pixel data into and out of the OpenGL draw buffer
for the context.</p><p><code class="methodname">CopyPixelsIn()</code> copies the entire
contents of the <code class="parameter">source</code>
<a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>
into the OpenGL context, offset such that the top-left corner of the
<a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>
is drawn at the point dest in the OpenGL buffer.</p><p><code class="methodname">CopyPixelsOut()</code> copies from the OpenGL draw buffer into the specified
<a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>.
The area copied is the size of the dest bitmap and contains all
data from the specified source <code class="parameter">point</code> to the bottom-right corner of the
buffer.</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p>If the source is larger than the destination, it's clipped at the
bottom and right edges to fit; no scaling is performed Also, the OpenGL
context and the
<a class="link" href="BBitmap.html" title="BBitmap"><code class="classname">BBitmap</code></a>
must be in the same color space.</p></div></div></div><table class="variablelist returncodes"><thead><tr><th>Return Code</th><th>Description</th></tr></thead><tbody><tr><td><p><span class="term"><code class="constant">B_OK</code></span></p></td><td><p>The data was copied without error.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_VALUE</code></span></p></td><td><p>The current draw buffer is not valid, or the destination
buffer's width or height is less than or equal to zero.</p></td></tr><tr><td><p><span class="term"><code class="constant">B_BAD_TYPE</code></span></p></td><td><p>The source and destination are in different color spaces.</p></td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView_DirectConnected"></a>DirectConnected()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">DirectConnected</span>(<span class="methodparam"><span class="type">direct_buffer_info* </span><span class="parameter">directInfo</span></span>);</code><p>If the <code class="classname">BGLView</code> is in a
<a class="link" href="BDirectWindow.html" title="BDirectWindow"><code class="classname">BDirectWindow</code></a>,
you should call this from your
<a class="link" href="BDirectWindow.html#BDirectWindow_DirectConnected" title="DirectConnected()"><code class="methodname">BDirectWindow::DirectConnected()</code></a>
function to let OpenGL update the window properly.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView_Draw"></a>Draw()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">Draw</span>(<span class="methodparam"><span class="type"><a class="link" href="BRect.html" title="BRect"><code class="classname">BRect</code></a> </span><span class="parameter">updateRect</span></span>);</code><p>Refreshes the contents of the <code class="classname">BGLView</code> by
copying the frontbuffer to the screen.</p><p>If the view's color space is eight bits deep and the
<code class="constant">GL_DITHER</code> OpenGL option is enabled, the display is
dithered.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView_EmbeddedView"></a>EmbeddedView()</h4></div></div></div><code class="methodsynopsis cpp"><span class="type"><a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>* </span><span class="methodname">EmbeddedView</span>();</code><p>Returns a pointer to an embedded view that encompasses the current OpenGL
drawing buffer, as defined by OpenGL, for the <code class="classname">BGLView</code>. If the view is
single-buffered, this will be the frontbuffer, and if the view is
double-buffered, the embedded view will encompass the backbuffer.</p><div class="admonition note"><div class="title">Note</div><div class="graphic"><img class="icon" alt="Note" width="32" src="./images/admonitions/Info_32.png" /><div class="text"><p><code class="methodname">EmbeddedView()</code> returns
<code class="constant">NULL</code> if, for any reason,
<a class="link" href="BView.html" title="BView"><code class="classname">BView</code></a>
functions can't
be used in the GL buffer. Starting with BeOS R4, this function always
returns <code class="constant">NULL</code>, as the new, high-performance implementation of OpenGL does
not support tinkering with the view.</p></div></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView_EnableDirectMode"></a>EnableDirectMode()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">EnableDirectMode</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">enabled</span></span>);</code><p>Call this function to tell the <code class="classname">BGLView</code>
whether or not it should render in direct mode. If you're using a
<a class="link" href="BDirectWindow.html" title="BDirectWindow"><code class="classname">BDirectWindow</code></a>
and want video refreshes to be done through the direct window method, pass
<code class="constant">true</code> for <code class="parameter">enabled</code>. If
you don't want to use the direct window method, pass
<code class="constant">false</code>.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView_ErrorCallback"></a>ErrorCallback()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">ErrorCallback</span>(<span class="methodparam"><span class="type">GLenum </span><span class="parameter">errorCode</span></span>);</code><p>Called when an OpenGL error occurs. By default, this function invokes the
debugger with an error message reading "GL: Error code $xxxx." You can
(and probably should) reimplement this function to cope with errors more
gracefully.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView_FrameResized"></a>FrameResized()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="void">void </span><span class="methodname">FrameResized</span>(<span class="methodparam"><span class="type">float </span><span class="parameter">width</span></span>,<br />                          <span class="methodparam"><span class="type">float </span><span class="parameter">height</span></span>);</code><p>Calls the inherited version of
<a class="link" href="BView.html#BView_FrameResized" title="FrameResized()"><code class="methodname">FrameResized()</code></a>,
releases tables that need to be recalculated, and resizes the OpenGL buffers.</p><p>You can augment this function to perform other necessary tasks, such as
adjusting your <code class="classname">BGLView</code>'s coordinate system.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView_LockGL"></a><a id="BGLView_UnlockGL"></a>
LockGL(), UnlockGL()</h4></div></div></div><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">LockGL</span>();</code><code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">UnlockGL</span>();</code><p>These functions lock and unlock the OpenGL context. You must lock the
context before issuing any OpenGL commands, and unlock it when you're
done—this is how OpenGL knows which context the drawing commands
are intended for, since OpenGL itself isn't encapsulated within the
<code class="classname">BGLView</code> class. For example:</p><pre class="programlisting example cpp"><code class="methodname">LockGL</code>();            <span class="comment">/* lock the OpenGL context</span>
<code class="function">glEnable</code>(<code class="constant">GL_DITHER</code>); <span class="comment">/* turn on dithering support */</span>
<code class="methodname">UnlockGL</code>();</pre><p>Failing to lock and unlock the context appropriately will result in
unpredictable behavior and may cause your application to crash.</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BGLView_SwapBuffers"></a>SwapBuffers()</h4></div></div></div><div class="synopsisgroup">
<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SwapBuffers</span>();</code>

<code class="methodsynopsis cpp"><span class="void">void </span><span class="methodname">SwapBuffers</span>(<span class="methodparam"><span class="type">bool </span><span class="parameter">vSync</span></span>);</code>
</div><p>Swaps the front buffer and back buffer, then redraws the contents of the
<code class="classname">BGLView</code>.</p><p>This function has no effect if the view is single-buffered.</p><p>If <code class="parameter">vSync</code> is specified and is
<code class="constant">true</code>, the swap is synchronized with vertical
blanking.</p></div></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="TheOpenGLKit.html">The OpenGL Kit</a>  Up: <a href="TheOpenGLKit.html">The OpenGL Kit</a>  Next: <a href="TheStorageKit.html">The Storage Kit</a> </div><div id="footerB"><div id="footerBL"><a href="TheOpenGLKit.html" title="The OpenGL Kit"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheOpenGLKit.html" title="The OpenGL Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="TheStorageKit.html" title="The Storage Kit"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div></body></html>
