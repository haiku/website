<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>The Be Book - Classes And Methods - The Support Kit</title><link rel="stylesheet" href="be_book.css" type="text/css" media="all" /><link rel="shortcut icon" type="image/vnd.microsoft.icon" href="./images/favicon.ico" /><!--[if IE]>
    <link rel="stylesheet" type="text/css" href="be_book_ie.css" />
    <![endif]--><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><meta name="keywords" content="Access, BeOS, BeBook, API" /><link rel="start" href="index.html" title="The Be Book" /><link rel="up" href="TheSupportKit.html" title="The Support Kit" /><link rel="prev" href="BDataIO.html" title="BDataIO" /><link rel="next" href="BList.html" title="BList" /></head><body><div id="header"><div id="headerT"><div id="headerTL"><a accesskey="p" href="BDataIO.html" title="BDataIO"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a accesskey="u" href="TheSupportKit.html" title="The Support Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a accesskey="n" href="BList.html" title="BList"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="headerTR"><div id="navigpeople"><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div><div class="navigboxed" id="navigindex"><a accesskey="i" href="ClassIndex.html" title="Index">I</a></div><div class="navigboxed" id="naviglang" title="English">en</div></div><div id="headerTC">The Be Book - Classes And Methods - The Support Kit</div></div><div id="headerB">Prev: <a href="BDataIO.html">BDataIO</a>  Up: <a href="TheSupportKit.html">The Support Kit</a>  Next: <a href="BList.html">BList</a></div><hr /></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h2 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BFlattenable"></a>BFlattenable</h2></div></div></div><a id="id1269192" class="indexterm"></a><div class="classheader"><table border="0"><colgroup><col /><col /></colgroup><tbody><tr><td><table width="100%" border="0"><colgroup><col /><col /></colgroup><tbody><tr><td>Derived From:</td><td>–</td></tr><tr><td>Mix-in Classes:</td><td>–</td></tr><tr><td>Declared In:</td><td><code class="filename">support/Flattenable.h</code></td></tr><tr><td>Library:</td><td><code class="filename">libbe.so</code></td></tr><tr><td>Allocation:</td><td>–</td></tr></tbody></table></td><td>
<a class="link overview" href="BFlattenable_Overview.html" title="BFlattenable">Class Overview</a>
<div class="toc"><ul><li><span class="section"><a href="BFlattenable.html#BFlattenable_MemberFunctions">Member Functions</a></span></li></ul></div>
</td></tr></tbody></table></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><hr /><div xmlns:d="http://docbook.org/ns/docbook"><h3 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BFlattenable_MemberFunctions"></a>Member Functions</h3></div></div></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BFlattenable_Flatten"></a><a id="BFlattenable_Unflatten"></a>
Flatten(), Unflatten()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Flatten</span>(<span class="methodparam"><span class="type">void* </span><span class="parameter">buffer</span></span>,<br />                         <span class="methodparam"><span class="type">ssize_t </span><span class="parameter">numBytes</span></span>) <span class="modifier">const = 0</span>;</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">status_t </span><span class="methodname">Unflatten</span>(<span class="methodparam"><span class="type">type_code </span><span class="parameter">code</span></span>,<br />                           <span class="methodparam"><span class="modifier">const </span><span class="type">void* </span><span class="parameter">buffer</span></span>,<br />                           <span class="methodparam"><span class="type">ssize_t </span><span class="parameter">numBytes</span></span>) <span class="modifier">= 0</span>;</code><p>
<code class="methodname">Flatten()</code> is implemented by derived classes to write the object into the
buffer. There are <code class="parameter">numBytes</code> bytes of memory available at the buffer
address. If this isn't at least as much memory as the
<a class="link" href="BFlattenable.html#BFlattenable_FlattenedSize" title="FlattenedSize()"><code class="methodname">FlattenedSize()</code></a>
function says is necessary, <code class="methodname">Flatten()</code> should return an error. If
successful, it should return <code class="constant">B_OK</code>.
</p><p>
<code class="methodname">Unflatten()</code> is implemented by derived classes to set object values from
<code class="parameter">numBytes</code> bytes of data taken from the buffer. However, it should read the
data only if the type <code class="parameter">code</code> it's passed indicates that the data is a type
that it supports—that is, only if its
<a class="link" href="BFlattenable.html#BFlattenable_AllowsTypeCode"><code class="methodname">AllowsTypeCode()</code></a>
function returns <code class="constant">true</code> for the code. If successful in reconstructing the object
from the flattened data, <code class="methodname">Unflatten()</code> should return <code class="constant">B_OK</code>. If not, it
should return <code class="constant">B_ERROR</code> or a more descriptive error code.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BFlattenable_FlattenedSize"></a>FlattenedSize()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">ssize_t </span><span class="methodname">FlattenedSize</span>() <span class="modifier">const = 0</span>;</code><p>
Implemented by derived classes to return the amount of memory needed to
hold the flattened object. This is the minimal amount that must be
allocated and passed to
<a class="link" href="BFlattenable.html#BFlattenable_Flatten" title="Flatten(), Unflatten()"><code class="methodname">Flatten()</code></a>.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BFlattenable_IsFixedSize"></a>IsFixedSize()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">bool </span><span class="methodname">IsFixedSize</span>() <span class="modifier">const = 0</span>;</code><p>
Implemented by derived classes to return <code class="constant">true</code> if all instances of the
class take up the same amount of memory when they're flattened, and <code class="constant">false</code>
if their flattened sizes can differ. The sizes will differ, for example,
if a variable-length string is part of the flattened data.
</p></div><div class="section"><div xmlns="" xmlns:d="http://docbook.org/ns/docbook" class="titlepage"><div><div xmlns:d="http://docbook.org/ns/docbook"><h4 xmlns="http://www.w3.org/1999/xhtml" class="title"><a id="BFlattenable_TypeCode"></a><a id="BFlattenable_AllowsTypeCode"></a>
TypeCode() , AllowsTypeCode()</h4></div></div></div><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">type_code </span><span class="methodname">TypeCode</span>() <span class="modifier">const = 0</span>;</code><code class="methodsynopsis cpp"><span class="modifier">virtual </span><span class="type">bool </span><span class="methodname">AllowsTypeCode</span>(<span class="methodparam"><span class="type">type_code </span><span class="parameter">code</span></span>) <span class="modifier">const</span>;</code><p>
<code class="methodname">TypeCode()</code> is implemented by derived classes to return the type code that
identifies the class type. The code is used to identify an instance of
the class in its flattened state, for example when it's added to a
<a class="link" href="BMessage.html" title="BMessage"><code class="classname">BMessage</code></a>.
</p><p>
<code class="methodname">AllowsType()</code> returns <code class="constant">true</code> if the code it's passed matches the code
returned by <code class="methodname">TypeCode()</code> and <code class="constant">false</code> if not. If can be modified in derived
classes to apply a more liberal standard—to allow more than one
type code to identify the object.
</p><p>
See also: <a class="link" href="BMessage.html#BMessage_AddData" title="AddData(), AddBool(), AddInt8(), AddInt16(), AddInt32(), AddInt64(), AddFloat(), AddDouble(), AddString(), AddPoint(), AddRect(), AddRef(), AddMessage(), AddMessenger(), AddPointer(), AddFlat()"><code class="methodname">BMessage::AddData()</code></a>
</p></div></div></div><div id="footer"><hr /><div id="footerT">Prev: <a href="BDataIO.html">BDataIO</a>  Up: <a href="TheSupportKit.html">The Support Kit</a>  Next: <a href="BList.html">BList</a> </div><div id="footerB"><div id="footerBL"><a href="BDataIO.html" title="BDataIO"><img src="./images/navigation/prev.png" alt="Prev" /></a> <a href="TheSupportKit.html" title="The Support Kit"><img src="./images/navigation/up.png" alt="Up" /></a> <a href="BList.html" title="BList"><img src="./images/navigation/next.png" alt="Next" /></a></div><div id="footerBR"><div><a href="http://www.haiku-os.org"><img src="./images/People_24.png" alt="haiku-os.org" title="Visit The Haiku Website" /></a></div><div class="navighome" title="Home"><a accesskey="h" href="index.html"><img src="./images/navigation/home.png" alt="Home" /></a></div></div><div id="footerBC"><a href="http://www.access-company.com/home.html" title="ACCESS Co."><img alt="Access Company" src="./images/access_logo.png" /></a></div></div></div><div id="licenseFooter"><div id="licenseFooterBL"><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/" title="Creative Commons License"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-nd/3.0/88x31.png" /></a></div><div id="licenseFooterBR"><a href="./LegalNotice.html">Legal Notice</a></div><div id="licenseFooterBC"><span id="licenseText">This work is licensed under a
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/3.0/">Creative
          Commons Attribution-Non commercial-No Derivative Works 3.0 License</a>.</span></div></div></body></html>
