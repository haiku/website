+++
type = "article"
title = "A Brief Introduction to our Source Repository Layout"
date = "2007-05-17T14:01:08.000Z"
tags = ["svn", "source code", "repository"]
+++


    <div class="field field-type-text field-field-body">
    <div class="field-items">
            <div class="field-item odd">
                    <p>This document is supposed to give you some insight where you'll find what in the source repository tree. If you're familiar with Haiku already, you will notice that the tree layout to some degree mirrors the structure a Haiku installation has on disk.</p>

<p>Things that are built are usually put under "src", for example, there is a "data", and a "src/data" folder - the former for example contains scripts or settings ready to be copied to the Haiku image, while the latter for example contains the MIME types database that first have to be converted from a format that is easy to edit to what Haiku expects.</p>


<!--more-->


<ul>
<li><b>src</b> all files that have to be built
  <ul>
  <li><b>add-ons</b> everything you'll find in <i>/boot/system/add-ons/</i> including all kernel drivers, media codecs, and Translators etc.</li>
  <li><b>apps</b> the GUI applications that are not preferences apps</li>
  <li><b>bin</b> command line applications such as the GNU tools</li>
  <li><b>build</b> files to allow using the Haiku build-tools on non-BeOS compatible platforms</li>
  <li><b>data</b> data files of any kind like the MIME type database or keymap files</li>
  <li><b>documentation</b> the doxygen and DocBook documentation for different parts of Haiku, including the public API documentation</li>
  <li><b>kits</b> the public API of Haiku that is organized in kits - except the "kernel kit" which is part of <i>libroot.so</i></li>
  <li><b>libs</b> static and shared libraries that are used by Haiku applications</li>
  <li><b>preferences</b> the preferences applications</li>
  <li><b>servers</b></li>
  <li><b>system</b> most of the files you'll find in the <i>/boot/system</i> directory - they make up the core of Haiku without the public userlevel API besides everything what is in libroot.so
    <ul>
    <li><b>boot</b> The boot loader with all supported platforms</li>
    <li><b>glue</b> The glue code that makes shared libraries execute their global constructors/destructors, and executables call main().</li>
    <li><b>kernel</b> The kernel and all of its core services and supported architectures</li>
    <li><b>ldscripts</b> linker scripts for building various parts of Haiku</li>
    <li><b>libroot</b> Everything that is exported by libroot.so which is the POSIX API and the kernel kit</li>
    <li><b>runtime_loader</b> the userland ELF loader that loads and starts executables</li>
    </ul></li>
  <li><b>tests</b> this more or less mirrors the tree itself, and contains test applications for the various subsystems (like an app_server that runs as a window under BeOS), some of them are to be used in a C++ unit test suite.</li>
  <li><b>tools</b> Tools that are either needed to build Haiku or are in other ways useful even when not running under Haiku</li>
  </ul></li>
<li><b>headers</b> all shared private and public headers
  <ul>
  <li><b>build</b></li>
  <li><b>compatibility</b> header files that increase the compatibility of Haiku to other systems; currently, you'll find some headers that allow compilation of some BSD tools (for libbsd.so).</li>
  <li><b>cpp</b></li>
  <li><b>glibc</b></li>
  <li><b>gnu</b></li>
  <li><b>legacy</b> non-POSIX headers that are still needed by some ancient or not so well maintained tools</li>
  <li><b>libs</b></li>
  <li><b>os</b> the public headers that define the Haiku API</li>
  <li><b>posix</b> the POSIX API as supported by Haiku</li>
  <li><b>private</b> private headers that are shared throughout Haiku components</li>
  <li><b>tools</b></li>
  </ul></li>
</ul>
<p>Now that the basic idea should be clear, let me point out some inconsistencies in the current layout that haven't been resolved yet:</p>
<ul>
<li>Top-level "docs" contains doxygen source files that will have to be built; the whole directory layout there is a bit untidy, anyway.</li>
<li>The counterpart to "docs" in "src/" is called "documentation" (which would be preferred for the top-level directory as well).</li>
<li>Some of the tools in "src/tools" will also be part of a Haiku installation, and also, some of the binaries in "src/bin" are needed to build Haiku (such as mimeset)</li>
<li>"src/system/ldscripts" don't really belong where they are; they should be in "build".</li>
</ul>

        </div>
        </div>
</div>
  