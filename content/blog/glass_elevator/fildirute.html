+++
type = "article"
title = "Fildirute"
date = "2006-08-20T13:41:33.000Z"
tags = ["kernel", "storage"]
+++


    <div class="field field-type-text field-field-body">
      <div class="field-label">Body:&nbsp;</div>
    <div class="field-items">
            <div class="field-item odd">
                    <p>Fildirutes are an idea for file system naming and simplification. Rather than having separate APIs for files, directories and attributes (and indices too!), you have a single fildirute kind of thing. You can read data from it like a file. You can also open it like a directory and see what&#39;s inside. The things inside are fildirutes too. A small one inside would be like an attribute, the name would tell you what the intended purpose was.</p>

<h3>Example</h3>

<p>If you had a document called &quot;MyDoc&quot;, then reading data from it would give you the document text. Looking inside it as if it were a directory, you&#39;d see &quot;MyDoc/mime-type&quot;, which if you opened it and read the data, would give you &quot;text/plain&quot;. There could also be things like &quot;MyDoc/Thumbnail&quot; which would have &quot;MyDoc/Thumbnail/mime-type&quot; containing &quot;image/png&quot;, and &quot;MyDoc/Thumbnail/Width&quot; containing 32 in binary, and for completeness, &quot;MyDoc/Thumbnail/Width/mime-type&quot; would contain &quot;number/int32&quot;.</p>

<p>Eg,</p>

<pre>MyDoc<br />
MyDoc/mime-type<br />
MyDoc/thumbnail<br />
MyDoc/thumbnail/mime-type<br />
MyDoc/thumbnail/width<br />
MyDoc/thumbnail/width/mime-type</pre>

<p>Of course, under the hood the small fildirutes are stored much like current attributes are. Some of them are also dynamically generated, and don&#39;t really exist, like the &quot;mime-type&quot; ones. It&#39;s just that the API is simplified so that everything is accessible as a fildirute. There is only one &quot;open&quot; function in the API, and just a plain &quot;read&quot; for data, and a &quot;readdir&quot; to find contained things. And &quot;close&quot;. And that&#39;s it.</p>
        </div>
        </div>
</div>
  