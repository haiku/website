+++
type = "article"
title = "State Save"
date = "2006-08-19T14:24:00.000Z"
tags = ["usability"]
+++


    <div class="field field-type-text field-field-body">
      <div class="field-label">Body:&nbsp;</div>
    <div class="field-items">
            <div class="field-item odd">
                    <p>Additional methods should be added to all applications which would act to save the current state of each application. All relevant information including (for example) current document edits, window positions and data stream positions should be saved in a standardised way. This would enable easy save, hibernate and start functionality.</p>  <h2>Details</h2>  <h3>Single Application</h3>  <p>Each application should have the ability to save its state at any instant to a predefined file. This snapshot style file could be used during application startup to restore the previous session&#39;s state in a standardised manner. More importantly it would allow more useful coordinated loading/saving algorithms (See Global State).</p><p>Information saved would include items such as:</p>  <ul>     <li>Data stream information</li>     <li>Window locations, sizes</li>     <li>Widget states, contained data</li> </ul>  <p>Triggering the save could be achieved through additional hooks in BApplication. Return codes would indicate the level of success.</p><h3>Global State</h3>  <p>There is the possibility for state saves to be triggered automatically by the operating system at certain points, including:</p>  <ul>     <li>Shutdown</li>     <li>Log off</li> </ul>  <p>Additionally sets of applications, sessions, could be loaded at points such as system startup. Interesting sets of applications include:</p>  <ul>     <li>Those running at last shutdown</li>     <li>Predefined work modes         <ul>             <li>&#39;At Work&#39;</li>             <li>&#39;At Home&#39; </li>         </ul>     </li>     <li>Special constant set for startup</li> </ul>  <p>Using the &#39;previous shutdown&#39; session we would automatically have a hibernate option. Note that there should be a mechanism to bypass the state save and, for example, have a &#39;real shutdown&#39; command (potentially in a hidden place like CTRL-ALT-DEL).</p>  <h3>Security / Stability</h3>  <p>State files require extra attention from security perspective. They allow an extra entry mechanism for malware, virii and other dubious software. It would be a convenient mechanism for such software to load each boot.</p>  <p>Care must be taken to save a valid and usable state each time. If a system critical application saved an invalid state, or a state in which a crash is inevitable, the state becomes unusable. Supposing this application is set to automatically load from the state the system would require a mechanism for a &#39;clean&#39; boot or &#39;clean&#39; loading of applications (This was evident in OS/2 with the saving of unstable system states causing continual rebooting).</p>  <h2>Issues</h2>  <ul>     <li>Some things such as streaming data are once only occurrences. How do we save state there?</li> </ul>  <h2>Related</h2>  <ul>     <li><a href="/glass_elevator/rfc/pre_shutdown_message">Pre-Shutdown Message</a></li> </ul>        </div>
        </div>
</div>
  