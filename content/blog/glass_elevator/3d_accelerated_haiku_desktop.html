+++
type = "article"
title = "3D-Accelerated Haiku Desktop"
date = "2007-03-21T01:01:31.000Z"
tags = ["usability", "user interface"]
+++


    <div class="field field-type-text field-field-body">
      <div class="field-label">Body:&nbsp;</div>
    <div class="field-items">
            <div class="field-item odd">
                    Using the 3D accelerated power of modern
video cards to do basic 2D desktop tasks is a novel concept. OS X
pioneered it. Vista and Linux copied it. Haiku should improve it. This will involve significant
--&nbsp;major, in some cases -- changes to the Deskbar,Tracker,&nbsp;the app_server, and possibly other system components, but
the changes will be well worth it. Visual effects detailed here are not
merely "eye candy", as some would call it, but have the dual purpose of
giving the user a better idea of what his computer is doing while
making the interface more visually appealing.<br>

<br>

<span style="font-weight: bold;"></span><span style="font-weight: bold;">Services Provided:</span><br>

<br>

The windowing system and desktop are intended to provide a number of services<br>

<ul>
  <li>Up-to-date status information (time/date, new mail, reminders, etc)</li>
  <li>Program-launching facilities (desktop icons, quick launcher, etc)</li>
  <li>Functionality to work with multiple open programs &nbsp;(Twitcher, workspaces, etc)</li>
  <li>Window management tools (resize, minimize, move, move to front/back)</li>
</ul>
There are two basic reasons for these services: the user needs to know
what the system is doing at any given point in time and the user is
doing multiple tasks simultaneously, whether he realizes it or not.<br>

<br>

<span style="font-weight: bold;">No More Deskbar</span><br>

<br>

What?! Am I crazy? Nah. It's just that the Deskbar's time has come.
There are four current uses for it: launcher, up-to-date system
information, system settings, and a loose collection of system-level
functions, such as About BeOS and Find. They will all be replaced with
better solutions.<br>

<br>
<br>
Launcher Replacement: Tab-Based Task Organization<br>
<br>
Instead of a single point of access to collect everything together (the
Be menu), there will be a small group of tabs to provide better
organization similar to the OS X product DragThing (screenshot below)
and OS 9's Tab Menus. The user clicks on a tab and it expands to
display a grid menu which contains the name and icon for each
folder/symlink. Subfolders spawn a submenu in the direction moving away
from the screen border where the tab originated, i.e. upward when at
the bottom, downward when at the top, etc., and the parent menu places
a light-colored overlay over all items except for the selected item to
make the submenu stand out while still allowing the user to easily see
other items in the parent menu. The images below (click for a larger
version) show the steps.<br>

<br>
<div style="text-align: center;">
<table style="width: 100px; text-align: left; margin-left: auto; margin-right: auto;" border="0" cellpadding="2" cellspacing="2">

  <tbody>

    <tr>
      <td style="vertical-align: top;"><a href="http://haiku-os.org/files/TabDrawer.png"><img src="http://haiku-os.org/files/TabDrawerThumb.png" style="border: 2px solid ; width: 200px; height: 150px;" alt=""></a><br>



      
      
      
      <div style="text-align: center;"><span style="font-style: italic;">The regular desktop</span></div>



      </td>




      <td style="vertical-align: middle;"><img src="http://haiku-os.org/files/rightarrow.png" alt=""></td>




      <td style="vertical-align: top;"><a href="http://haiku-os.org/files/TabDrawer2.png"><img src="http://haiku-os.org/files/TabDrawer2Thumb.png" style="border: 2px solid ; width: 200px; height: 150px;" alt=""></a><br>



      
      
      
      <div style="text-align: center;"><span style="font-style: italic;">After clicking on the Programs tab</span></div>



      </td>




      <td style="vertical-align: middle;"><img src="http://haiku-os.org/files/rightarrow.png" alt=""></td>




      <td style="vertical-align: top;"><a href="http://haiku-os.org/files/TabDrawer3.png"><img src="http://haiku-os.org/files/TabDrawer3Thumb.png" style="border: 2px solid ; width: 200px; height: 150px;" alt=""></a><br>



      
      
      
      <div style="text-align: center;"><span style="font-style: italic;">After selecting the Utilities item</span></div>



      </td>




    </tr>




  
  
  
  
  </tbody>
</table>




</div>





<br>




<br>




This method will provide more width-depth balance -- the current
organizational structure is shallow and wide: the top menu has 10
items; the Applications and Preferences submenus -- which are at only
the second level of nesting -- have many more choices. Two clicks and
significant mouse navigation are required. This method takes advantage
of Fitts' Law in at least one direction. The large menu items also
increase speed and have a bevelled edge to convey the large size of
each item.<br>




<br>




<br>




System Information: Enhanced System Tray<br>




<br>




It seems like the current trend in user interfaces (OS X's Dashboard,
Vista's Sidebar, and Google's Gadgets) is to provide some method for
the user to download add-ons which look really cool and provide more
than what is provided in the system tray. This is because the system
tray's small size limits the amount of information that can be
provided. The Sidebar's Widgets and Google's Gadgets simply add a
window which consumes more desktop space. Worse yet, the add-ons
themselves tend to be not fit with the rest of the UI's look and are
larger than necessary, wasting the precious space taken up by the new
window and adding insult to injury.<br>




<br>




The new system tray is similar to the Sidebar in Windows Vista, but is
less intrusive. As an option, it can always remain on top, but by
default it can be covered up by other windows. Add-ons are required to
be simple and uncluttered -- a few words and perhaps a picture. Instead
of using miniature controls, each entry is clickable. The default
action (such as starting the mail program for the e-mail add-on) is
invoked on left click and configuration is done by way of a pop-up menu
on right-click.<br>




<br>




<div style="text-align: center;"><img src="http://haiku-os.org/files/ExpandedSysTray.png" alt="">
</div>






<br>




System-Level Settings and Functions: the Computer Tab<br>




<br>




In a way quite similar to the Programs tab, the Computer tab houses
access to global functions and settings. The Preferences apps&nbsp;find
themselves placed here in submenu. The Find, About Haiku, Restart, and
Shutdown items are also placed here.<br>




<br>




<br>






<span style="font-weight: bold;">Window Management Improvements </span><br>






<br>



<br>







Minimize in Place<br style="font-weight: bold;">






<br>




Minimizing a window can actually be a source of confusion for some
users. Merely by double-clicking on a window tab, the window disappears
and there is no apparent reason why or where it has disappeared to. In
fact, unless the user specifically looks at the Deskbar's running
program list or there are multiple windows open, the program appears to
have closed. In latter case, the document seems to have been closed.
The solution is to minimize the window to a miniature version of
itself, add the program's icon to its corner to further aid in
identification, and place it on the desktop. When a window is minimized
this way, the scaling-down process is animated to show its placement on
the desktop.<br>






<br>







<br>






<table style="width: 100px; text-align: left; margin-left: auto; margin-right: auto;" border="0" cellpadding="2" cellspacing="2">






  <tbody>






    <tr>






      <td style="vertical-align: middle;"><img src="http://haiku-os.org/files/SVnormal.png" style="width: 263px; height: 211px;" alt=""><br>



      
      
      
      <div style="text-align: center;"><span style="font-style: italic;">Before</span></div>



      </td>






      <td style="vertical-align: middle;"><img src="http://haiku-os.org/files/rightarrow.png" alt=""></td>






      <td style="vertical-align: middle;"><img src="http://haiku-os.org/files/SVminimized.png" alt=""><br>



      
      
      
      <div style="text-align: center;"><span style="font-style: italic;">After</span></div>



      </td>






    </tr>






  
  
  
  
  
  
  </tbody>
</table>






<br>




<br>



<br>




Right-click Desktop Menu (Window management functions)<br>



<br>



Window management functions until now have been largely ignored and
have been limited to Hiding or Showing one or more windows in a
program. While these functions can still be used in the Running
Programs addon for the system tray, these functions will also be placed
in a submenu of the Desktop, so the user can right-click on the Desktop
and choose an item like "Hide Program Foo."<br>



<br>



<br>




Show Desktop<br>



<br>



Minimize in Place increases the need for being able to see the Desktop
because suddenly it is no longer just a kind of computer junk drawer.
Because of this new need, it is more important than before to be able
to quickly see it. Invoking this function from the Desktop context menu
(see above) or by hitting F11, all windows slide almost completely
off-screen. Hitting F11 again returns all windows to their original
positions.<br>



<br>



<br>



Minimize All<br>



<br>



Does a Minimize in Place for all open windows in the current workspace.<br>



<br>



<br>



Workspaces View<br>



<br>



Workspaces are feature of &nbsp;BeOS which set it apart from other OSes
(except the *NIXes) back in the day. Mainstream OSes today still don't
do justice to utilizing them because for them, workspaces are just a
bolted-on feature not originally intended in the design of the
interface. More so than before, workspaces will be a major part of the
user experience -- they allow the user to do much more at once and
still remain organized. The workspaces control will be similar to a
Replicant, but will be an integrated part of the Desktop, defaulting to
the center of the bottom edge of the screen. By having a 3D-accelerated
desktop, it will be possible to see live updates of all programs. <br>




<br>



<table style="width: 100px; text-align: left; margin-left: auto; margin-right: auto;" border="0" cellpadding="20" cellspacing="2">



  <tbody>



    <tr>



      <td style="vertical-align: top;"><img src="http://haiku-os.org/files/Workspaces.png" alt=""><br>



      
      
      
      <div style="text-align: center;"><span style="font-style: italic;">The control up close</span></div>



      </td>



      <td style="vertical-align: top;">
      
      
      
      <div style="text-align: center;"><a href="http://haiku-os.org/files/WorkspacesMockup.png"><img src="http://haiku-os.org/files/WorkspacesMockupThumb.png" style="border: 2px solid ; width: 200px; height: 150px;" alt=""></a><br>



      
      
      
      <div style="text-align: center;"><span style="font-style: italic;">The control in context of the screen</span></div>



      </div>



      </td>



    </tr>



  
  
  
  </tbody>
</table>



<br>



While all of this may be nothing particularly special so far --
integration and visual enhancement of a current feature -- there is one
more tool in the window management toolbox: a zoomed workspace view. By
hitting F12 or choosing the appropriate option from the Desktop window
management menu, the Workspaces control expands to full-screen size
(with a corresponding zoom animation). At this point, the user can
double-click on a particular workspace to switch to it, move windows
around, or just watch multiple apps working at once. Switching from
this full-screen view to a workspace results in yet another appropriate
zooming animation into the requested workspace to give context to the
user.<br>



<div style="text-align: center;"></div>



<br>



Enhanced Twitcher<br>




<br>



Some users will not necessarily want to work with multiple workspaces
and prefer to keep everything in the same workspace, piled on top of
each other. For these users, there will be some small enhancements to
the current Twitcher. It will show a live preview of the window along
with the program name and the title of the window switched to when
released. A semi-transparent black overlay is placed in between the
screen and the Twitcher previews (in the Z order) In order to increase
the visual contrast from the actual desktop. The selected app's preview
has a&nbsp;"glow" selection rectangle&nbsp;placed around it and the
title header is shown in a slightly larger font size. The previews
themselves are as large as possible -- up to the full size of the
window -- and are scaled down only enough to fit all windows within the
width of the window. They are also placed close enough together that
the selection indicator slightly overlaps the others to visually "push"
the selected preview in front of the others.<br>



<br>



<div style="text-align: center;"><a href="http://haiku-os.org/files/NewTwitcher.png"><img style="border: 2px solid ; width: 200px; height: 150px;" src="http://haiku-os.org/files/NewTwitcherThumb.png" alt=""></a><br>



</div>



<br>



<br>



Window Movement Constraints<br>



<br>



Sometimes the user gets himself into a bit of a mess when a window is
somehow off the screen and he can't get it back on the screen. Small
changes in window dragging will help prevent these situations.<br>



<br>



<ul>



  <li>Top / Bottom Tab Constraints - window tabs cannot be dragged below the bottom edge or above the top edge of the screen.</li>



  <li>Left / Right Screen Alignment - Using the Snap-and-Go techniques pioneered by <a href="http://www.patrickbaudisch.com/projects/snapandgo/index.html">Patrick Baudisch</a>, allow the user to easily align a window to the side of the screen without preventing him from moving it further.</li>



</ul>



<br>



<br>



<span style="font-weight: bold;">Hardware Considerations</span><br>



<br>



One
problem with depending on a 3D graphics card to do certain tasks in the
main part of the interface is figuring out what to do when there
*isn't* a 3D card or how to handle the&nbsp;differences in the capabilities
of each card. The solution is three-fold: implement certain functions
in software, turn certain enhancements off, and provide lower-overhead
alternatives to enhancements.<br>



<br>



An example of using&nbsp;these methods to provide a good user
experience with less-capable hardware can be found in the new Twitcher.
Live previews would be processor-intensive, so instead of providing
live ones, the user is given a snapshot of each app's state when the
Twitcher was invoked -- a non-live preview. The soft-glow of the
selection could be replaced simply with one generated with a simple
solid-color rounded rectangle. Live updates to the goings-on under the
overlay would be handled in the same way as the live previews - take a
snapshot of the desktop, apply the overlay, and show the Twitcher.
While the enhancements will not run nearly as fast as the
hardware-accelerated versions, they should still be quite usable and
responsive.<br>



<br>



Another low-power handling example can be found in&nbsp;the new
Workspaces control. Visually speaking, the control would look like the
current version -- small representations of the windows with text
labels. The zooming effect when switching between&nbsp;to full-screen
mode and a workspace could be eliminated or an outline rectangle could
be used.<br>



<br>



<br>



<span style="font-weight: bold;"></span><span style="font-weight: bold;"></span><span style="font-weight: bold;">Final Thoughts</span><br>



<br>



These changes are by no means small, but they have the potential to
make Haiku an operating system that makes the user's experience much
more enjoyable and productive for users of all levels of experience.<br>
        </div>
        </div>
</div>
<table id="attachments" class="sticky-enabled">
 <thead><tr><th>Attachment</th><th>Size</th> </tr></thead>
<tbody>
 <tr class="odd"><td><a href="https://www.haiku-os.org/files/ExpandedSysTray.png">ExpandedSysTray.png</a></td><td>7.35 KB</td> </tr>
 <tr class="even"><td><a href="https://www.haiku-os.org/files/NewTwitcher.png">NewTwitcher.png</a></td><td>45.31 KB</td> </tr>
 <tr class="odd"><td><a href="https://www.haiku-os.org/files/NewTwitcherThumb.png">NewTwitcherThumb.png</a></td><td>23.06 KB</td> </tr>
 <tr class="even"><td><a href="https://www.haiku-os.org/files/rightarrow.png">rightarrow.png</a></td><td>412 bytes</td> </tr>
 <tr class="odd"><td><a href="https://www.haiku-os.org/files/SVminimized.png">SVminimized.png</a></td><td>6.23 KB</td> </tr>
 <tr class="even"><td><a href="https://www.haiku-os.org/files/SVnormal.png">SVnormal.png</a></td><td>18.11 KB</td> </tr>
 <tr class="odd"><td><a href="https://www.haiku-os.org/files/TabDrawer.png">TabDrawer.png</a></td><td>5.74 KB</td> </tr>
 <tr class="even"><td><a href="https://www.haiku-os.org/files/TabDrawer2.png">TabDrawer2.png</a></td><td>9.3 KB</td> </tr>
 <tr class="odd"><td><a href="https://www.haiku-os.org/files/TabDrawer2Thumb.png">TabDrawer2Thumb.png</a></td><td>2.92 KB</td> </tr>
 <tr class="even"><td><a href="https://www.haiku-os.org/files/TabDrawer3.png">TabDrawer3.png</a></td><td>12.64 KB</td> </tr>
 <tr class="odd"><td><a href="https://www.haiku-os.org/files/TabDrawer3Thumb.png">TabDrawer3Thumb.png</a></td><td>3.39 KB</td> </tr>
 <tr class="even"><td><a href="https://www.haiku-os.org/files/TabDrawerThumb.png">TabDrawerThumb.png</a></td><td>1.92 KB</td> </tr>
 <tr class="odd"><td><a href="https://www.haiku-os.org/files/Workspaces.png">Workspaces.png</a></td><td>4.33 KB</td> </tr>
 <tr class="even"><td><a href="https://www.haiku-os.org/files/WorkspacesMockup.png">WorkspacesMockup.png</a></td><td>61.99 KB</td> </tr>
 <tr class="odd"><td><a href="https://www.haiku-os.org/files/WorkspacesMockupThumb.png">WorkspacesMockupThumb.png</a></td><td>13.84 KB</td> </tr>
</tbody>
</table>
  